"use strict";(self.webpackChunkreact_book_reader_docs=self.webpackChunkreact_book_reader_docs||[]).push([[84],{79084:function(tr,en,tn){tn.d(en,{BlobReader:function(){return Ut},BlobWriter:function(){return Dt},TextWriter:function(){return Bn},ZipReader:function(){return Qn},configure:function(){return Ze}});const H=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],nn=[96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,192,80,7,10,0,8,96,0,8,32,0,9,160,0,8,0,0,8,128,0,8,64,0,9,224,80,7,6,0,8,88,0,8,24,0,9,144,83,7,59,0,8,120,0,8,56,0,9,208,81,7,17,0,8,104,0,8,40,0,9,176,0,8,8,0,8,136,0,8,72,0,9,240,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,200,81,7,13,0,8,100,0,8,36,0,9,168,0,8,4,0,8,132,0,8,68,0,9,232,80,7,8,0,8,92,0,8,28,0,9,152,84,7,83,0,8,124,0,8,60,0,9,216,82,7,23,0,8,108,0,8,44,0,9,184,0,8,12,0,8,140,0,8,76,0,9,248,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,196,81,7,11,0,8,98,0,8,34,0,9,164,0,8,2,0,8,130,0,8,66,0,9,228,80,7,7,0,8,90,0,8,26,0,9,148,84,7,67,0,8,122,0,8,58,0,9,212,82,7,19,0,8,106,0,8,42,0,9,180,0,8,10,0,8,138,0,8,74,0,9,244,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,204,81,7,15,0,8,102,0,8,38,0,9,172,0,8,6,0,8,134,0,8,70,0,9,236,80,7,9,0,8,94,0,8,30,0,9,156,84,7,99,0,8,126,0,8,62,0,9,220,82,7,27,0,8,110,0,8,46,0,9,188,0,8,14,0,8,142,0,8,78,0,9,252,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,194,80,7,10,0,8,97,0,8,33,0,9,162,0,8,1,0,8,129,0,8,65,0,9,226,80,7,6,0,8,89,0,8,25,0,9,146,83,7,59,0,8,121,0,8,57,0,9,210,81,7,17,0,8,105,0,8,41,0,9,178,0,8,9,0,8,137,0,8,73,0,9,242,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,202,81,7,13,0,8,101,0,8,37,0,9,170,0,8,5,0,8,133,0,8,69,0,9,234,80,7,8,0,8,93,0,8,29,0,9,154,84,7,83,0,8,125,0,8,61,0,9,218,82,7,23,0,8,109,0,8,45,0,9,186,0,8,13,0,8,141,0,8,77,0,9,250,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,198,81,7,11,0,8,99,0,8,35,0,9,166,0,8,3,0,8,131,0,8,67,0,9,230,80,7,7,0,8,91,0,8,27,0,9,150,84,7,67,0,8,123,0,8,59,0,9,214,82,7,19,0,8,107,0,8,43,0,9,182,0,8,11,0,8,139,0,8,75,0,9,246,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,206,81,7,15,0,8,103,0,8,39,0,9,174,0,8,7,0,8,135,0,8,71,0,9,238,80,7,9,0,8,95,0,8,31,0,9,158,84,7,99,0,8,127,0,8,63,0,9,222,82,7,27,0,8,111,0,8,47,0,9,190,0,8,15,0,8,143,0,8,79,0,9,254,96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,193,80,7,10,0,8,96,0,8,32,0,9,161,0,8,0,0,8,128,0,8,64,0,9,225,80,7,6,0,8,88,0,8,24,0,9,145,83,7,59,0,8,120,0,8,56,0,9,209,81,7,17,0,8,104,0,8,40,0,9,177,0,8,8,0,8,136,0,8,72,0,9,241,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,201,81,7,13,0,8,100,0,8,36,0,9,169,0,8,4,0,8,132,0,8,68,0,9,233,80,7,8,0,8,92,0,8,28,0,9,153,84,7,83,0,8,124,0,8,60,0,9,217,82,7,23,0,8,108,0,8,44,0,9,185,0,8,12,0,8,140,0,8,76,0,9,249,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,197,81,7,11,0,8,98,0,8,34,0,9,165,0,8,2,0,8,130,0,8,66,0,9,229,80,7,7,0,8,90,0,8,26,0,9,149,84,7,67,0,8,122,0,8,58,0,9,213,82,7,19,0,8,106,0,8,42,0,9,181,0,8,10,0,8,138,0,8,74,0,9,245,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,205,81,7,15,0,8,102,0,8,38,0,9,173,0,8,6,0,8,134,0,8,70,0,9,237,80,7,9,0,8,94,0,8,30,0,9,157,84,7,99,0,8,126,0,8,62,0,9,221,82,7,27,0,8,110,0,8,46,0,9,189,0,8,14,0,8,142,0,8,78,0,9,253,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,195,80,7,10,0,8,97,0,8,33,0,9,163,0,8,1,0,8,129,0,8,65,0,9,227,80,7,6,0,8,89,0,8,25,0,9,147,83,7,59,0,8,121,0,8,57,0,9,211,81,7,17,0,8,105,0,8,41,0,9,179,0,8,9,0,8,137,0,8,73,0,9,243,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,203,81,7,13,0,8,101,0,8,37,0,9,171,0,8,5,0,8,133,0,8,69,0,9,235,80,7,8,0,8,93,0,8,29,0,9,155,84,7,83,0,8,125,0,8,61,0,9,219,82,7,23,0,8,109,0,8,45,0,9,187,0,8,13,0,8,141,0,8,77,0,9,251,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,199,81,7,11,0,8,99,0,8,35,0,9,167,0,8,3,0,8,131,0,8,67,0,9,231,80,7,7,0,8,91,0,8,27,0,9,151,84,7,67,0,8,123,0,8,59,0,9,215,82,7,19,0,8,107,0,8,43,0,9,183,0,8,11,0,8,139,0,8,75,0,9,247,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,207,81,7,15,0,8,103,0,8,39,0,9,175,0,8,7,0,8,135,0,8,71,0,9,239,80,7,9,0,8,95,0,8,31,0,9,159,84,7,99,0,8,127,0,8,63,0,9,223,82,7,27,0,8,111,0,8,47,0,9,191,0,8,15,0,8,143,0,8,79,0,9,255],rn=[80,5,1,87,5,257,83,5,17,91,5,4097,81,5,5,89,5,1025,85,5,65,93,5,16385,80,5,3,88,5,513,84,5,33,92,5,8193,82,5,9,90,5,2049,86,5,129,192,5,24577,80,5,2,87,5,385,83,5,25,91,5,6145,81,5,7,89,5,1537,85,5,97,93,5,24577,80,5,4,88,5,769,84,5,49,92,5,12289,82,5,13,90,5,3073,86,5,193,192,5,24577],an=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],sn=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,112,112],on=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],ln=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],he=15;function ze(){let n,t,e,r,a,o;function s(d,_,h,x,y,z,c,g,i,l,u){let b,p,v,m,w,A,D,U,k,S,E,O,C,F,W;S=0,w=h;do e[d[_+S]]++,S++,w--;while(w!==0);if(e[0]==h)return c[0]=-1,g[0]=0,0;for(U=g[0],A=1;A<=he&&e[A]===0;A++);for(D=A,U<A&&(U=A),w=he;w!==0&&e[w]===0;w--);for(v=w,U>w&&(U=w),g[0]=U,F=1<<A;A<w;A++,F<<=1)if((F-=e[A])<0)return-3;if((F-=e[w])<0)return-3;for(e[w]+=F,o[1]=A=0,S=1,C=2;--w!=0;)o[C]=A+=e[S],C++,S++;w=0,S=0;do(A=d[_+S])!==0&&(u[o[A]++]=w),S++;while(++w<h);for(h=o[v],o[0]=w=0,S=0,m=-1,O=-U,a[0]=0,E=0,W=0;D<=v;D++)for(b=e[D];b--!=0;){for(;D>O+U;){if(m++,O+=U,W=v-O,W=W>U?U:W,(p=1<<(A=D-O))>b+1&&(p-=b+1,C=D,A<W))for(;++A<W&&!((p<<=1)<=e[++C]);)p-=e[C];if(W=1<<A,l[0]+W>1440)return-3;a[m]=E=l[0],l[0]+=W,m!==0?(o[m]=w,r[0]=A,r[1]=U,A=w>>>O-U,r[2]=E-a[m-1]-A,i.set(r,3*(a[m-1]+A))):c[0]=E}for(r[1]=D-O,S>=h?r[0]=192:u[S]<x?(r[0]=u[S]<256?0:96,r[2]=u[S++]):(r[0]=z[u[S]-x]+16+64,r[2]=y[u[S++]-x]),p=1<<D-O,A=w>>>O;A<W;A+=p)i.set(r,3*(E+A));for(A=1<<D-1;w&A;A>>>=1)w^=A;for(w^=A,k=(1<<O)-1;(w&k)!=o[m];)m--,O-=U,k=(1<<O)-1}return F!==0&&v!=1?-5:0}function f(d){let _;for(n||(n=[],t=[],e=new Int32Array(16),r=[],a=new Int32Array(he),o=new Int32Array(16)),t.length<d&&(t=[]),_=0;_<d;_++)t[_]=0;for(_=0;_<16;_++)e[_]=0;for(_=0;_<3;_++)r[_]=0;a.set(e.subarray(0,he),0),o.set(e.subarray(0,16),0)}this.inflate_trees_bits=function(d,_,h,x,y){let z;return f(19),n[0]=0,z=s(d,0,19,19,null,null,h,_,x,n,t),z==-3?y.msg="oversubscribed dynamic bit lengths tree":z!=-5&&_[0]!==0||(y.msg="incomplete dynamic bit lengths tree",z=-3),z},this.inflate_trees_dynamic=function(d,_,h,x,y,z,c,g,i){let l;return f(288),n[0]=0,l=s(h,0,d,257,an,sn,z,x,g,n,t),l!=0||x[0]===0?(l==-3?i.msg="oversubscribed literal/length tree":l!=-4&&(i.msg="incomplete literal/length tree",l=-3),l):(f(288),l=s(h,d,_,0,on,ln,c,y,g,n,t),l!=0||y[0]===0&&d>257?(l==-3?i.msg="oversubscribed distance tree":l==-5?(i.msg="incomplete distance tree",l=-3):l!=-4&&(i.msg="empty distance tree with lengths",l=-3),l):0)}}ze.inflate_trees_fixed=function(n,t,e,r){return n[0]=9,t[0]=5,e[0]=nn,r[0]=rn,0};function cn(){const n=this;let t,e,r,a,o=0,s=0,f=0,d=0,_=0,h=0,x=0,y=0,z=0,c=0;function g(i,l,u,b,p,v,m,w){let A,D,U,k,S,E,O,C,F,W,M,Z,T,I,L,j;O=w.next_in_index,C=w.avail_in,S=m.bitb,E=m.bitk,F=m.write,W=F<m.read?m.read-F-1:m.end-F,M=H[i],Z=H[l];do{for(;E<20;)C--,S|=(255&w.read_byte(O++))<<E,E+=8;if(A=S&M,D=u,U=b,j=3*(U+A),(k=D[j])!==0)for(;;){if(S>>=D[j+1],E-=D[j+1],16&k){for(k&=15,T=D[j+2]+(S&H[k]),S>>=k,E-=k;E<15;)C--,S|=(255&w.read_byte(O++))<<E,E+=8;for(A=S&Z,D=p,U=v,j=3*(U+A),k=D[j];;){if(S>>=D[j+1],E-=D[j+1],16&k){for(k&=15;E<k;)C--,S|=(255&w.read_byte(O++))<<E,E+=8;if(I=D[j+2]+(S&H[k]),S>>=k,E-=k,W-=T,F>=I)L=F-I,F-L>0&&2>F-L?(m.win[F++]=m.win[L++],m.win[F++]=m.win[L++],T-=2):(m.win.set(m.win.subarray(L,L+2),F),F+=2,L+=2,T-=2);else{L=F-I;do L+=m.end;while(L<0);if(k=m.end-L,T>k){if(T-=k,F-L>0&&k>F-L)do m.win[F++]=m.win[L++];while(--k!=0);else m.win.set(m.win.subarray(L,L+k),F),F+=k,L+=k,k=0;L=0}}if(F-L>0&&T>F-L)do m.win[F++]=m.win[L++];while(--T!=0);else m.win.set(m.win.subarray(L,L+T),F),F+=T,L+=T,T=0;break}if(64&k)return w.msg="invalid distance code",T=w.avail_in-C,T=E>>3<T?E>>3:T,C+=T,O-=T,E-=T<<3,m.bitb=S,m.bitk=E,w.avail_in=C,w.total_in+=O-w.next_in_index,w.next_in_index=O,m.write=F,-3;A+=D[j+2],A+=S&H[k],j=3*(U+A),k=D[j]}break}if(64&k)return 32&k?(T=w.avail_in-C,T=E>>3<T?E>>3:T,C+=T,O-=T,E-=T<<3,m.bitb=S,m.bitk=E,w.avail_in=C,w.total_in+=O-w.next_in_index,w.next_in_index=O,m.write=F,1):(w.msg="invalid literal/length code",T=w.avail_in-C,T=E>>3<T?E>>3:T,C+=T,O-=T,E-=T<<3,m.bitb=S,m.bitk=E,w.avail_in=C,w.total_in+=O-w.next_in_index,w.next_in_index=O,m.write=F,-3);if(A+=D[j+2],A+=S&H[k],j=3*(U+A),(k=D[j])===0){S>>=D[j+1],E-=D[j+1],m.win[F++]=D[j+2],W--;break}}else S>>=D[j+1],E-=D[j+1],m.win[F++]=D[j+2],W--}while(W>=258&&C>=10);return T=w.avail_in-C,T=E>>3<T?E>>3:T,C+=T,O-=T,E-=T<<3,m.bitb=S,m.bitk=E,w.avail_in=C,w.total_in+=O-w.next_in_index,w.next_in_index=O,m.write=F,0}n.init=function(i,l,u,b,p,v){t=0,x=i,y=l,r=u,z=b,a=p,c=v,e=null},n.proc=function(i,l,u){let b,p,v,m,w,A,D,U=0,k=0,S=0;for(S=l.next_in_index,m=l.avail_in,U=i.bitb,k=i.bitk,w=i.write,A=w<i.read?i.read-w-1:i.end-w;;)switch(t){case 0:if(A>=258&&m>=10&&(i.bitb=U,i.bitk=k,l.avail_in=m,l.total_in+=S-l.next_in_index,l.next_in_index=S,i.write=w,u=g(x,y,r,z,a,c,i,l),S=l.next_in_index,m=l.avail_in,U=i.bitb,k=i.bitk,w=i.write,A=w<i.read?i.read-w-1:i.end-w,u!=0)){t=u==1?7:9;break}f=x,e=r,s=z,t=1;case 1:for(b=f;k<b;){if(m===0)return i.bitb=U,i.bitk=k,l.avail_in=m,l.total_in+=S-l.next_in_index,l.next_in_index=S,i.write=w,i.inflate_flush(l,u);u=0,m--,U|=(255&l.read_byte(S++))<<k,k+=8}if(p=3*(s+(U&H[b])),U>>>=e[p+1],k-=e[p+1],v=e[p],v===0){d=e[p+2],t=6;break}if(16&v){_=15&v,o=e[p+2],t=2;break}if(!(64&v)){f=v,s=p/3+e[p+2];break}if(32&v){t=7;break}return t=9,l.msg="invalid literal/length code",u=-3,i.bitb=U,i.bitk=k,l.avail_in=m,l.total_in+=S-l.next_in_index,l.next_in_index=S,i.write=w,i.inflate_flush(l,u);case 2:for(b=_;k<b;){if(m===0)return i.bitb=U,i.bitk=k,l.avail_in=m,l.total_in+=S-l.next_in_index,l.next_in_index=S,i.write=w,i.inflate_flush(l,u);u=0,m--,U|=(255&l.read_byte(S++))<<k,k+=8}o+=U&H[b],U>>=b,k-=b,f=y,e=a,s=c,t=3;case 3:for(b=f;k<b;){if(m===0)return i.bitb=U,i.bitk=k,l.avail_in=m,l.total_in+=S-l.next_in_index,l.next_in_index=S,i.write=w,i.inflate_flush(l,u);u=0,m--,U|=(255&l.read_byte(S++))<<k,k+=8}if(p=3*(s+(U&H[b])),U>>=e[p+1],k-=e[p+1],v=e[p],16&v){_=15&v,h=e[p+2],t=4;break}if(!(64&v)){f=v,s=p/3+e[p+2];break}return t=9,l.msg="invalid distance code",u=-3,i.bitb=U,i.bitk=k,l.avail_in=m,l.total_in+=S-l.next_in_index,l.next_in_index=S,i.write=w,i.inflate_flush(l,u);case 4:for(b=_;k<b;){if(m===0)return i.bitb=U,i.bitk=k,l.avail_in=m,l.total_in+=S-l.next_in_index,l.next_in_index=S,i.write=w,i.inflate_flush(l,u);u=0,m--,U|=(255&l.read_byte(S++))<<k,k+=8}h+=U&H[b],U>>=b,k-=b,t=5;case 5:for(D=w-h;D<0;)D+=i.end;for(;o!==0;){if(A===0&&(w==i.end&&i.read!==0&&(w=0,A=w<i.read?i.read-w-1:i.end-w),A===0&&(i.write=w,u=i.inflate_flush(l,u),w=i.write,A=w<i.read?i.read-w-1:i.end-w,w==i.end&&i.read!==0&&(w=0,A=w<i.read?i.read-w-1:i.end-w),A===0)))return i.bitb=U,i.bitk=k,l.avail_in=m,l.total_in+=S-l.next_in_index,l.next_in_index=S,i.write=w,i.inflate_flush(l,u);i.win[w++]=i.win[D++],A--,D==i.end&&(D=0),o--}t=0;break;case 6:if(A===0&&(w==i.end&&i.read!==0&&(w=0,A=w<i.read?i.read-w-1:i.end-w),A===0&&(i.write=w,u=i.inflate_flush(l,u),w=i.write,A=w<i.read?i.read-w-1:i.end-w,w==i.end&&i.read!==0&&(w=0,A=w<i.read?i.read-w-1:i.end-w),A===0)))return i.bitb=U,i.bitk=k,l.avail_in=m,l.total_in+=S-l.next_in_index,l.next_in_index=S,i.write=w,i.inflate_flush(l,u);u=0,i.win[w++]=d,A--,t=0;break;case 7:if(k>7&&(k-=8,m++,S--),i.write=w,u=i.inflate_flush(l,u),w=i.write,A=w<i.read?i.read-w-1:i.end-w,i.read!=i.write)return i.bitb=U,i.bitk=k,l.avail_in=m,l.total_in+=S-l.next_in_index,l.next_in_index=S,i.write=w,i.inflate_flush(l,u);t=8;case 8:return u=1,i.bitb=U,i.bitk=k,l.avail_in=m,l.total_in+=S-l.next_in_index,l.next_in_index=S,i.write=w,i.inflate_flush(l,u);case 9:return u=-3,i.bitb=U,i.bitk=k,l.avail_in=m,l.total_in+=S-l.next_in_index,l.next_in_index=S,i.write=w,i.inflate_flush(l,u);default:return u=-2,i.bitb=U,i.bitk=k,l.avail_in=m,l.total_in+=S-l.next_in_index,l.next_in_index=S,i.write=w,i.inflate_flush(l,u)}},n.free=function(){}}const Ie=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];function un(n,t){const e=this;let r,a=0,o=0,s=0,f=0;const d=[0],_=[0],h=new cn;let x=0,y=new Int32Array(4320);const z=new ze;e.bitk=0,e.bitb=0,e.win=new Uint8Array(t),e.end=t,e.read=0,e.write=0,e.reset=function(c,g){g&&(g[0]=0),a==6&&h.free(c),a=0,e.bitk=0,e.bitb=0,e.read=e.write=0},e.reset(n,null),e.inflate_flush=function(c,g){let i,l,u;return l=c.next_out_index,u=e.read,i=(u<=e.write?e.write:e.end)-u,i>c.avail_out&&(i=c.avail_out),i!==0&&g==-5&&(g=0),c.avail_out-=i,c.total_out+=i,c.next_out.set(e.win.subarray(u,u+i),l),l+=i,u+=i,u==e.end&&(u=0,e.write==e.end&&(e.write=0),i=e.write-u,i>c.avail_out&&(i=c.avail_out),i!==0&&g==-5&&(g=0),c.avail_out-=i,c.total_out+=i,c.next_out.set(e.win.subarray(u,u+i),l),l+=i,u+=i),c.next_out_index=l,e.read=u,g},e.proc=function(c,g){let i,l,u,b,p,v,m,w;for(b=c.next_in_index,p=c.avail_in,l=e.bitb,u=e.bitk,v=e.write,m=v<e.read?e.read-v-1:e.end-v;;){let A,D,U,k,S,E,O,C;switch(a){case 0:for(;u<3;){if(p===0)return e.bitb=l,e.bitk=u,c.avail_in=p,c.total_in+=b-c.next_in_index,c.next_in_index=b,e.write=v,e.inflate_flush(c,g);g=0,p--,l|=(255&c.read_byte(b++))<<u,u+=8}switch(i=7&l,x=1&i,i>>>1){case 0:l>>>=3,u-=3,i=7&u,l>>>=i,u-=i,a=1;break;case 1:A=[],D=[],U=[[]],k=[[]],ze.inflate_trees_fixed(A,D,U,k),h.init(A[0],D[0],U[0],0,k[0],0),l>>>=3,u-=3,a=6;break;case 2:l>>>=3,u-=3,a=3;break;case 3:return l>>>=3,u-=3,a=9,c.msg="invalid block type",g=-3,e.bitb=l,e.bitk=u,c.avail_in=p,c.total_in+=b-c.next_in_index,c.next_in_index=b,e.write=v,e.inflate_flush(c,g)}break;case 1:for(;u<32;){if(p===0)return e.bitb=l,e.bitk=u,c.avail_in=p,c.total_in+=b-c.next_in_index,c.next_in_index=b,e.write=v,e.inflate_flush(c,g);g=0,p--,l|=(255&c.read_byte(b++))<<u,u+=8}if((~l>>>16&65535)!=(65535&l))return a=9,c.msg="invalid stored block lengths",g=-3,e.bitb=l,e.bitk=u,c.avail_in=p,c.total_in+=b-c.next_in_index,c.next_in_index=b,e.write=v,e.inflate_flush(c,g);o=65535&l,l=u=0,a=o!==0?2:x!==0?7:0;break;case 2:if(p===0||m===0&&(v==e.end&&e.read!==0&&(v=0,m=v<e.read?e.read-v-1:e.end-v),m===0&&(e.write=v,g=e.inflate_flush(c,g),v=e.write,m=v<e.read?e.read-v-1:e.end-v,v==e.end&&e.read!==0&&(v=0,m=v<e.read?e.read-v-1:e.end-v),m===0)))return e.bitb=l,e.bitk=u,c.avail_in=p,c.total_in+=b-c.next_in_index,c.next_in_index=b,e.write=v,e.inflate_flush(c,g);if(g=0,i=o,i>p&&(i=p),i>m&&(i=m),e.win.set(c.read_buf(b,i),v),b+=i,p-=i,v+=i,m-=i,(o-=i)!=0)break;a=x!==0?7:0;break;case 3:for(;u<14;){if(p===0)return e.bitb=l,e.bitk=u,c.avail_in=p,c.total_in+=b-c.next_in_index,c.next_in_index=b,e.write=v,e.inflate_flush(c,g);g=0,p--,l|=(255&c.read_byte(b++))<<u,u+=8}if(s=i=16383&l,(31&i)>29||(i>>5&31)>29)return a=9,c.msg="too many length or distance symbols",g=-3,e.bitb=l,e.bitk=u,c.avail_in=p,c.total_in+=b-c.next_in_index,c.next_in_index=b,e.write=v,e.inflate_flush(c,g);if(i=258+(31&i)+(i>>5&31),!r||r.length<i)r=[];else for(w=0;w<i;w++)r[w]=0;l>>>=14,u-=14,f=0,a=4;case 4:for(;f<4+(s>>>10);){for(;u<3;){if(p===0)return e.bitb=l,e.bitk=u,c.avail_in=p,c.total_in+=b-c.next_in_index,c.next_in_index=b,e.write=v,e.inflate_flush(c,g);g=0,p--,l|=(255&c.read_byte(b++))<<u,u+=8}r[Ie[f++]]=7&l,l>>>=3,u-=3}for(;f<19;)r[Ie[f++]]=0;if(d[0]=7,i=z.inflate_trees_bits(r,d,_,y,c),i!=0)return(g=i)==-3&&(r=null,a=9),e.bitb=l,e.bitk=u,c.avail_in=p,c.total_in+=b-c.next_in_index,c.next_in_index=b,e.write=v,e.inflate_flush(c,g);f=0,a=5;case 5:for(;i=s,!(f>=258+(31&i)+(i>>5&31));){let F,W;for(i=d[0];u<i;){if(p===0)return e.bitb=l,e.bitk=u,c.avail_in=p,c.total_in+=b-c.next_in_index,c.next_in_index=b,e.write=v,e.inflate_flush(c,g);g=0,p--,l|=(255&c.read_byte(b++))<<u,u+=8}if(i=y[3*(_[0]+(l&H[i]))+1],W=y[3*(_[0]+(l&H[i]))+2],W<16)l>>>=i,u-=i,r[f++]=W;else{for(w=W==18?7:W-14,F=W==18?11:3;u<i+w;){if(p===0)return e.bitb=l,e.bitk=u,c.avail_in=p,c.total_in+=b-c.next_in_index,c.next_in_index=b,e.write=v,e.inflate_flush(c,g);g=0,p--,l|=(255&c.read_byte(b++))<<u,u+=8}if(l>>>=i,u-=i,F+=l&H[w],l>>>=w,u-=w,w=f,i=s,w+F>258+(31&i)+(i>>5&31)||W==16&&w<1)return r=null,a=9,c.msg="invalid bit length repeat",g=-3,e.bitb=l,e.bitk=u,c.avail_in=p,c.total_in+=b-c.next_in_index,c.next_in_index=b,e.write=v,e.inflate_flush(c,g);W=W==16?r[w-1]:0;do r[w++]=W;while(--F!=0);f=w}}if(_[0]=-1,S=[],E=[],O=[],C=[],S[0]=9,E[0]=6,i=s,i=z.inflate_trees_dynamic(257+(31&i),1+(i>>5&31),r,S,E,O,C,y,c),i!=0)return i==-3&&(r=null,a=9),g=i,e.bitb=l,e.bitk=u,c.avail_in=p,c.total_in+=b-c.next_in_index,c.next_in_index=b,e.write=v,e.inflate_flush(c,g);h.init(S[0],E[0],y,O[0],y,C[0]),a=6;case 6:if(e.bitb=l,e.bitk=u,c.avail_in=p,c.total_in+=b-c.next_in_index,c.next_in_index=b,e.write=v,(g=h.proc(e,c,g))!=1)return e.inflate_flush(c,g);if(g=0,h.free(c),b=c.next_in_index,p=c.avail_in,l=e.bitb,u=e.bitk,v=e.write,m=v<e.read?e.read-v-1:e.end-v,x===0){a=0;break}a=7;case 7:if(e.write=v,g=e.inflate_flush(c,g),v=e.write,m=v<e.read?e.read-v-1:e.end-v,e.read!=e.write)return e.bitb=l,e.bitk=u,c.avail_in=p,c.total_in+=b-c.next_in_index,c.next_in_index=b,e.write=v,e.inflate_flush(c,g);a=8;case 8:return g=1,e.bitb=l,e.bitk=u,c.avail_in=p,c.total_in+=b-c.next_in_index,c.next_in_index=b,e.write=v,e.inflate_flush(c,g);case 9:return g=-3,e.bitb=l,e.bitk=u,c.avail_in=p,c.total_in+=b-c.next_in_index,c.next_in_index=b,e.write=v,e.inflate_flush(c,g);default:return g=-2,e.bitb=l,e.bitk=u,c.avail_in=p,c.total_in+=b-c.next_in_index,c.next_in_index=b,e.write=v,e.inflate_flush(c,g)}}},e.free=function(c){e.reset(c,null),e.win=null,y=null},e.set_dictionary=function(c,g,i){e.win.set(c.subarray(g,g+i),0),e.read=e.write=i},e.sync_point=function(){return a==1?1:0}}const X=13,dn=[0,0,255,255];function fn(){const n=this;function t(e){return e&&e.istate?(e.total_in=e.total_out=0,e.msg=null,e.istate.mode=7,e.istate.blocks.reset(e,null),0):-2}n.mode=0,n.method=0,n.was=[0],n.need=0,n.marker=0,n.wbits=0,n.inflateEnd=function(e){return n.blocks&&n.blocks.free(e),n.blocks=null,0},n.inflateInit=function(e,r){return e.msg=null,n.blocks=null,r<8||r>15?(n.inflateEnd(e),-2):(n.wbits=r,e.istate.blocks=new un(e,1<<r),t(e),0)},n.inflate=function(e,r){let a,o;if(!e||!e.istate||!e.next_in)return-2;const s=e.istate;for(r=r==4?-5:0,a=-5;;)switch(s.mode){case 0:if(e.avail_in===0)return a;if(a=r,e.avail_in--,e.total_in++,(15&(s.method=e.read_byte(e.next_in_index++)))!=8){s.mode=X,e.msg="unknown compression method",s.marker=5;break}if(8+(s.method>>4)>s.wbits){s.mode=X,e.msg="invalid win size",s.marker=5;break}s.mode=1;case 1:if(e.avail_in===0)return a;if(a=r,e.avail_in--,e.total_in++,o=255&e.read_byte(e.next_in_index++),((s.method<<8)+o)%31!=0){s.mode=X,e.msg="incorrect header check",s.marker=5;break}if(!(32&o)){s.mode=7;break}s.mode=2;case 2:if(e.avail_in===0)return a;a=r,e.avail_in--,e.total_in++,s.need=(255&e.read_byte(e.next_in_index++))<<24&4278190080,s.mode=3;case 3:if(e.avail_in===0)return a;a=r,e.avail_in--,e.total_in++,s.need+=(255&e.read_byte(e.next_in_index++))<<16&16711680,s.mode=4;case 4:if(e.avail_in===0)return a;a=r,e.avail_in--,e.total_in++,s.need+=(255&e.read_byte(e.next_in_index++))<<8&65280,s.mode=5;case 5:return e.avail_in===0?a:(a=r,e.avail_in--,e.total_in++,s.need+=255&e.read_byte(e.next_in_index++),s.mode=6,2);case 6:return s.mode=X,e.msg="need dictionary",s.marker=0,-2;case 7:if(a=s.blocks.proc(e,a),a==-3){s.mode=X,s.marker=0;break}if(a==0&&(a=r),a!=1)return a;a=r,s.blocks.reset(e,s.was),s.mode=12;case 12:return e.avail_in=0,1;case X:return-3;default:return-2}},n.inflateSetDictionary=function(e,r,a){let o=0,s=a;if(!e||!e.istate||e.istate.mode!=6)return-2;const f=e.istate;return s>=1<<f.wbits&&(s=(1<<f.wbits)-1,o=a-s),f.blocks.set_dictionary(r,o,s),f.mode=7,0},n.inflateSync=function(e){let r,a,o,s,f;if(!e||!e.istate)return-2;const d=e.istate;if(d.mode!=X&&(d.mode=X,d.marker=0),(r=e.avail_in)===0)return-5;for(a=e.next_in_index,o=d.marker;r!==0&&o<4;)e.read_byte(a)==dn[o]?o++:o=e.read_byte(a)!==0?0:4-o,a++,r--;return e.total_in+=a-e.next_in_index,e.next_in_index=a,e.avail_in=r,d.marker=o,o!=4?-3:(s=e.total_in,f=e.total_out,t(e),e.total_in=s,e.total_out=f,d.mode=7,0)},n.inflateSyncPoint=function(e){return e&&e.istate&&e.istate.blocks?e.istate.blocks.sync_point():-2}}function Ne(){}Ne.prototype={inflateInit(n){const t=this;return t.istate=new fn,n||(n=15),t.istate.inflateInit(t,n)},inflate(n){const t=this;return t.istate?t.istate.inflate(t,n):-2},inflateEnd(){const n=this;if(!n.istate)return-2;const t=n.istate.inflateEnd(n);return n.istate=null,t},inflateSync(){const n=this;return n.istate?n.istate.inflateSync(n):-2},inflateSetDictionary(n,t){const e=this;return e.istate?e.istate.inflateSetDictionary(e,n,t):-2},read_byte(n){return this.next_in[n]},read_buf(n,t){return this.next_in.subarray(n,n+t)}};const ne=4294967295,re=65535,Ve=33639248,qe=101075792,ae=22,V=void 0,Y="undefined",ce="function";class Ke{constructor(t){return class extends TransformStream{constructor(e,r){const a=new t(r);super({transform(o,s){s.enqueue(a.append(o))},flush(o){const s=a.flush();s&&o.enqueue(s)}})}}}}let He=2;try{typeof navigator!=Y&&navigator.hardwareConcurrency&&(He=navigator.hardwareConcurrency)}catch{}const wn={chunkSize:524288,maxWorkers:He,terminateWorkerTimeout:5e3,useWebWorkers:!0,useCompressionStream:!0,workerScripts:V,CompressionStreamNative:typeof CompressionStream!=Y&&CompressionStream,DecompressionStreamNative:typeof DecompressionStream!=Y&&DecompressionStream},$=Object.assign({},wn);function Ze(n){const{baseURL:t,chunkSize:e,maxWorkers:r,terminateWorkerTimeout:a,useCompressionStream:o,useWebWorkers:s,Deflate:f,Inflate:d,CompressionStream:_,DecompressionStream:h,workerScripts:x}=n;if(ee("baseURL",t),ee("chunkSize",e),ee("maxWorkers",r),ee("terminateWorkerTimeout",a),ee("useCompressionStream",o),ee("useWebWorkers",s),f&&($.CompressionStream=new Ke(f)),d&&($.DecompressionStream=new Ke(d)),ee("CompressionStream",_),ee("DecompressionStream",h),x!==V){const{deflate:y,inflate:z}=x;if((y||z)&&($.workerScripts||($.workerScripts={})),y){if(!Array.isArray(y))throw new Error("workerScripts.deflate must be an array");$.workerScripts.deflate=y}if(z){if(!Array.isArray(z))throw new Error("workerScripts.inflate must be an array");$.workerScripts.inflate=z}}}function ee(n,t){t!==V&&($[n]=t)}const Ge=[];for(let n=0;n<256;n++){let t=n;for(let e=0;e<8;e++)1&t?t=t>>>1^3988292384:t>>>=1;Ge[n]=t}class be{constructor(t){this.crc=t||-1}append(t){let e=0|this.crc;for(let r=0,a=0|t.length;r<a;r++)e=e>>>8^Ge[255&(e^t[r])];this.crc=e}get(){return~this.crc}}class Je extends TransformStream{constructor(){let t;const e=new be;super({transform(r,a){e.append(r),a.enqueue(r)},flush(){const r=new Uint8Array(4);new DataView(r.buffer).setUint32(0,e.get()),t.value=r}}),t=this}}const q={concat(n,t){if(n.length===0||t.length===0)return n.concat(t);const e=n[n.length-1],r=q.getPartial(e);return r===32?n.concat(t):q._shiftRight(t,r,0|e,n.slice(0,n.length-1))},bitLength(n){const t=n.length;if(t===0)return 0;const e=n[t-1];return 32*(t-1)+q.getPartial(e)},clamp(n,t){if(32*n.length<t)return n;const e=(n=n.slice(0,Math.ceil(t/32))).length;return t&=31,e>0&&t&&(n[e-1]=q.partial(t,n[e-1]&2147483648>>t-1,1)),n},partial:(n,t,e)=>n===32?t:(e?0|t:t<<32-n)+1099511627776*n,getPartial:n=>Math.round(n/1099511627776)||32,_shiftRight(n,t,e,r){for(r===void 0&&(r=[]);t>=32;t-=32)r.push(e),e=0;if(t===0)return r.concat(n);for(let s=0;s<n.length;s++)r.push(e|n[s]>>>t),e=n[s]<<32-t;const a=n.length?n[n.length-1]:0,o=q.getPartial(a);return r.push(q.partial(t+o&31,t+o>32?e:r.pop(),1)),r}},ge={bytes:{fromBits(n){const t=q.bitLength(n)/8,e=new Uint8Array(t);let r;for(let a=0;a<t;a++)3&a||(r=n[a/4]),e[a]=r>>>24,r<<=8;return e},toBits(n){const t=[];let e,r=0;for(e=0;e<n.length;e++)r=r<<8|n[e],3&~e||(t.push(r),r=0);return 3&e&&t.push(q.partial(8*(3&e),r)),t}}},_n={sha1:class{constructor(n){const t=this;t.blockSize=512,t._init=[1732584193,4023233417,2562383102,271733878,3285377520],t._key=[1518500249,1859775393,2400959708,3395469782],n?(t._h=n._h.slice(0),t._buffer=n._buffer.slice(0),t._length=n._length):t.reset()}reset(){const n=this;return n._h=n._init.slice(0),n._buffer=[],n._length=0,n}update(n){const t=this;typeof n=="string"&&(n=ge.utf8String.toBits(n));const e=t._buffer=q.concat(t._buffer,n),r=t._length,a=t._length=r+q.bitLength(n);if(a>9007199254740991)throw new Error("Cannot hash more than 2^53 - 1 bits");const o=new Uint32Array(e);let s=0;for(let f=t.blockSize+r-(t.blockSize+r&t.blockSize-1);f<=a;f+=t.blockSize)t._block(o.subarray(16*s,16*(s+1))),s+=1;return e.splice(0,16*s),t}finalize(){const n=this;let t=n._buffer;const e=n._h;t=q.concat(t,[q.partial(1,1)]);for(let r=t.length+2;15&r;r++)t.push(0);for(t.push(Math.floor(n._length/4294967296)),t.push(0|n._length);t.length;)n._block(t.splice(0,16));return n.reset(),e}_f(n,t,e,r){return n<=19?t&e|~t&r:n<=39?t^e^r:n<=59?t&e|t&r|e&r:n<=79?t^e^r:void 0}_S(n,t){return t<<n|t>>>32-n}_block(n){const t=this,e=t._h,r=Array(80);for(let _=0;_<16;_++)r[_]=n[_];let a=e[0],o=e[1],s=e[2],f=e[3],d=e[4];for(let _=0;_<=79;_++){_>=16&&(r[_]=t._S(1,r[_-3]^r[_-8]^r[_-14]^r[_-16]));const h=t._S(5,a)+t._f(_,o,s,f)+d+r[_]+t._key[Math.floor(_/20)]|0;d=f,f=s,s=t._S(30,o),o=a,a=h}e[0]=e[0]+a|0,e[1]=e[1]+o|0,e[2]=e[2]+s|0,e[3]=e[3]+f|0,e[4]=e[4]+d|0}}},hn={aes:class{constructor(n){const t=this;t._tables=[[[],[],[],[],[]],[[],[],[],[],[]]],t._tables[0][0][0]||t._precompute();const e=t._tables[0][4],r=t._tables[1],a=n.length;let o,s,f,d=1;if(a!==4&&a!==6&&a!==8)throw new Error("invalid aes key size");for(t._key=[s=n.slice(0),f=[]],o=a;o<4*a+28;o++){let _=s[o-1];(o%a==0||a===8&&o%a==4)&&(_=e[_>>>24]<<24^e[_>>16&255]<<16^e[_>>8&255]<<8^e[255&_],o%a==0&&(_=_<<8^_>>>24^d<<24,d=d<<1^283*(d>>7))),s[o]=s[o-a]^_}for(let _=0;o;_++,o--){const h=s[3&_?o:o-4];f[_]=o<=4||_<4?h:r[0][e[h>>>24]]^r[1][e[h>>16&255]]^r[2][e[h>>8&255]]^r[3][e[255&h]]}}encrypt(n){return this._crypt(n,0)}decrypt(n){return this._crypt(n,1)}_precompute(){const n=this._tables[0],t=this._tables[1],e=n[4],r=t[4],a=[],o=[];let s,f,d,_;for(let h=0;h<256;h++)o[(a[h]=h<<1^283*(h>>7))^h]=h;for(let h=s=0;!e[h];h^=f||1,s=o[s]||1){let x=s^s<<1^s<<2^s<<3^s<<4;x=x>>8^255&x^99,e[h]=x,r[x]=h,_=a[d=a[f=a[h]]];let y=16843009*_^65537*d^257*f^16843008*h,z=257*a[x]^16843008*x;for(let c=0;c<4;c++)n[c][h]=z=z<<24^z>>>8,t[c][x]=y=y<<24^y>>>8}for(let h=0;h<5;h++)n[h]=n[h].slice(0),t[h]=t[h].slice(0)}_crypt(n,t){if(n.length!==4)throw new Error("invalid aes block size");const e=this._key[t],r=e.length/4-2,a=[0,0,0,0],o=this._tables[t],s=o[0],f=o[1],d=o[2],_=o[3],h=o[4];let x,y,z,c=n[0]^e[0],g=n[t?3:1]^e[1],i=n[2]^e[2],l=n[t?1:3]^e[3],u=4;for(let b=0;b<r;b++)x=s[c>>>24]^f[g>>16&255]^d[i>>8&255]^_[255&l]^e[u],y=s[g>>>24]^f[i>>16&255]^d[l>>8&255]^_[255&c]^e[u+1],z=s[i>>>24]^f[l>>16&255]^d[c>>8&255]^_[255&g]^e[u+2],l=s[l>>>24]^f[c>>16&255]^d[g>>8&255]^_[255&i]^e[u+3],u+=4,c=x,g=y,i=z;for(let b=0;b<4;b++)a[t?3&-b:b]=h[c>>>24]<<24^h[g>>16&255]<<16^h[i>>8&255]<<8^h[255&l]^e[u++],x=c,c=g,g=i,i=l,l=x;return a}}},bn={getRandomValues(n){const t=new Uint32Array(n.buffer),e=r=>{let a=987654321;const o=4294967295;return function(){return a=36969*(65535&a)+(a>>16)&o,(((a<<16)+(r=18e3*(65535&r)+(r>>16)&o)&o)/4294967296+.5)*(Math.random()>.5?1:-1)}};for(let r,a=0;a<n.length;a+=4){const o=e(4294967296*(r||Math.random()));r=987654071*o(),t[a/4]=4294967296*o()|0}return n}},gn={ctrGladman:class{constructor(n,t){this._prf=n,this._initIv=t,this._iv=t}reset(){this._iv=this._initIv}update(n){return this.calculate(this._prf,n,this._iv)}incWord(n){if(255&~(n>>24))n+=1<<24;else{let t=n>>16&255,e=n>>8&255,r=255&n;t===255?(t=0,e===255?(e=0,r===255?r=0:++r):++e):++t,n=0,n+=t<<16,n+=e<<8,n+=r}return n}incCounter(n){(n[0]=this.incWord(n[0]))===0&&(n[1]=this.incWord(n[1]))}calculate(n,t,e){let r;if(!(r=t.length))return[];const a=q.bitLength(t);for(let o=0;o<r;o+=4){this.incCounter(e);const s=n.encrypt(e);t[o]^=s[0],t[o+1]^=s[1],t[o+2]^=s[2],t[o+3]^=s[3]}return q.clamp(t,a)}}},se={importKey:n=>new se.hmacSha1(ge.bytes.toBits(n)),pbkdf2(n,t,e,r){if(e=e||1e4,r<0||e<0)throw new Error("invalid params to pbkdf2");const a=1+(r>>5)<<2;let o,s,f,d,_;const h=new ArrayBuffer(a),x=new DataView(h);let y=0;const z=q;for(t=ge.bytes.toBits(t),_=1;y<(a||1);_++){for(o=s=n.encrypt(z.concat(t,[_])),f=1;f<e;f++)for(s=n.encrypt(s),d=0;d<s.length;d++)o[d]^=s[d];for(f=0;y<(a||1)&&f<o.length;f++)x.setInt32(y,o[f]),y+=4}return h.slice(0,r/8)},hmacSha1:class{constructor(n){const t=this,e=t._hash=_n.sha1,r=[[],[]];t._baseHash=[new e,new e];const a=t._baseHash[0].blockSize/32;n.length>a&&(n=new e().update(n).finalize());for(let o=0;o<a;o++)r[0][o]=909522486^n[o],r[1][o]=1549556828^n[o];t._baseHash[0].update(r[0]),t._baseHash[1].update(r[1]),t._resultHash=new e(t._baseHash[0])}reset(){const n=this;n._resultHash=new n._hash(n._baseHash[0]),n._updated=!1}update(n){this._updated=!0,this._resultHash.update(n)}digest(){const n=this,t=n._resultHash.finalize(),e=new n._hash(n._baseHash[1]).update(t).finalize();return n.reset(),e}encrypt(n){if(this._updated)throw new Error("encrypt on already updated hmac called!");return this.update(n),this.digest(n)}}},pn=typeof crypto!=Y&&typeof crypto.getRandomValues==ce,Qe="Invalid password",Xe="Invalid signature",Ae="zipjs-abort-check-password";function Ye(n){return pn?crypto.getRandomValues(n):bn.getRandomValues(n)}const oe=16,$e={name:"PBKDF2"},mn=Object.assign({hash:{name:"HMAC"}},$e),Ue=Object.assign({iterations:1e3,hash:{name:"SHA-1"}},$e),yn=["deriveBits"],ue=[8,12,16],de=[16,24,32],te=10,xn=[0,0,0,0],pe=typeof crypto!=Y,fe=pe&&crypto.subtle,et=pe&&typeof fe!=Y,J=ge.bytes,kn=hn.aes,vn=gn.ctrGladman,Sn=se.hmacSha1;let tt=pe&&et&&typeof fe.importKey==ce,nt=pe&&et&&typeof fe.deriveBits==ce;class zn extends TransformStream{constructor({password:t,rawPassword:e,signed:r,encryptionStrength:a,checkPasswordOnly:o}){super({start(){Object.assign(this,{ready:new Promise(s=>this.resolveReady=s),password:at(t,e),signed:r,strength:a-1,pending:new Uint8Array})},async transform(s,f){const d=this,{password:_,strength:h,resolveReady:x,ready:y}=d;_?(await async function(c,g,i,l){const u=await it(c,g,i,G(l,0,ue[g])),b=G(l,ue[g]);if(u[0]!=b[0]||u[1]!=b[1])throw new Error(Qe)}(d,h,_,G(s,0,ue[h]+2)),s=G(s,ue[h]+2),o?f.error(new Error(Ae)):x()):await y;const z=new Uint8Array(s.length-te-(s.length-te)%oe);f.enqueue(rt(d,s,z,0,te,!0))},async flush(s){const{signed:f,ctr:d,hmac:_,pending:h,ready:x}=this;if(_&&d){await x;const y=G(h,0,h.length-te),z=G(h,h.length-te);let c=new Uint8Array;if(y.length){const g=_e(J,y);_.update(g);const i=d.update(g);c=we(J,i)}if(f){const g=G(we(J,_.digest()),0,te);for(let i=0;i<te;i++)if(g[i]!=z[i])throw new Error(Xe)}s.enqueue(c)}}})}}class An extends TransformStream{constructor({password:t,rawPassword:e,encryptionStrength:r}){let a;super({start(){Object.assign(this,{ready:new Promise(o=>this.resolveReady=o),password:at(t,e),strength:r-1,pending:new Uint8Array})},async transform(o,s){const f=this,{password:d,strength:_,resolveReady:h,ready:x}=f;let y=new Uint8Array;d?(y=await async function(c,g,i){const l=Ye(new Uint8Array(ue[g])),u=await it(c,g,i,l);return De(l,u)}(f,_,d),h()):await x;const z=new Uint8Array(y.length+o.length-o.length%oe);z.set(y,0),s.enqueue(rt(f,o,z,y.length,0))},async flush(o){const{ctr:s,hmac:f,pending:d,ready:_}=this;if(f&&s){await _;let h=new Uint8Array;if(d.length){const x=s.update(_e(J,d));f.update(x),h=we(J,x)}a.signature=we(J,f.digest()).slice(0,te),o.enqueue(De(h,a.signature))}}}),a=this}}function rt(n,t,e,r,a,o){const{ctr:s,hmac:f,pending:d}=n,_=t.length-a;let h;for(d.length&&(t=De(d,t),e=function(x,y){if(y&&y>x.length){const z=x;(x=new Uint8Array(y)).set(z,0)}return x}(e,_-_%oe)),h=0;h<=_-oe;h+=oe){const x=_e(J,G(t,h,h+oe));o&&f.update(x);const y=s.update(x);o||f.update(y),e.set(we(J,y),h+r)}return n.pending=G(t,h),e}async function it(n,t,e,r){n.password=null;const a=await async function(h,x,y,z,c){if(!tt)return se.importKey(x);try{return await fe.importKey(h,x,y,z,c)}catch{return tt=!1,se.importKey(x)}}("raw",e,mn,!1,yn),o=await async function(h,x,y){if(!nt)return se.pbkdf2(x,h.salt,Ue.iterations,y);try{return await fe.deriveBits(h,x,y)}catch{return nt=!1,se.pbkdf2(x,h.salt,Ue.iterations,y)}}(Object.assign({salt:r},Ue),a,8*(2*de[t]+2)),s=new Uint8Array(o),f=_e(J,G(s,0,de[t])),d=_e(J,G(s,de[t],2*de[t])),_=G(s,2*de[t]);return Object.assign(n,{keys:{key:f,authentication:d,passwordVerification:_},ctr:new vn(new kn(f),Array.from(xn)),hmac:new Sn(d)}),_}function at(n,t){return t===V?function(e){if(typeof TextEncoder==Y){e=unescape(encodeURIComponent(e));const r=new Uint8Array(e.length);for(let a=0;a<r.length;a++)r[a]=e.charCodeAt(a);return r}return new TextEncoder().encode(e)}(n):t}function De(n,t){let e=n;return n.length+t.length&&(e=new Uint8Array(n.length+t.length),e.set(n,0),e.set(t,n.length)),e}function G(n,t,e){return n.subarray(t,e)}function we(n,t){return n.fromBits(t)}function _e(n,t){return n.toBits(t)}const me=12;class Un extends TransformStream{constructor({password:t,passwordVerification:e,checkPasswordOnly:r}){super({start(){Object.assign(this,{password:t,passwordVerification:e}),lt(this,t)},transform(a,o){const s=this;if(s.password){const f=st(s,a.subarray(0,me));if(s.password=null,f[11]!=s.passwordVerification)throw new Error(Qe);a=a.subarray(me)}r?o.error(new Error(Ae)):o.enqueue(st(s,a))}})}}class Dn extends TransformStream{constructor({password:t,passwordVerification:e}){super({start(){Object.assign(this,{password:t,passwordVerification:e}),lt(this,t)},transform(r,a){const o=this;let s,f;if(o.password){o.password=null;const d=Ye(new Uint8Array(me));d[11]=o.passwordVerification,s=new Uint8Array(r.length+d.length),s.set(ot(o,d),0),f=me}else s=new Uint8Array(r.length),f=0;s.set(ot(o,r),f),a.enqueue(s)}})}}function st(n,t){const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=ct(n)^t[r],Ee(n,e[r]);return e}function ot(n,t){const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=ct(n)^t[r],Ee(n,t[r]);return e}function lt(n,t){const e=[305419896,591751049,878082192];Object.assign(n,{keys:e,crcKey0:new be(e[0]),crcKey2:new be(e[2])});for(let r=0;r<t.length;r++)Ee(n,t.charCodeAt(r))}function Ee(n,t){let[e,r,a]=n.keys;n.crcKey0.append([t]),e=~n.crcKey0.get(),r=dt(Math.imul(dt(r+ut(e)),134775813)+1),n.crcKey2.append([r>>>24]),a=~n.crcKey2.get(),n.keys=[e,r,a]}function ct(n){const t=2|n.keys[2];return ut(Math.imul(t,1^t)>>>8)}function ut(n){return 255&n}function dt(n){return 4294967295&n}const ft="deflate-raw";class En extends TransformStream{constructor(t,{chunkSize:e,CompressionStream:r,CompressionStreamNative:a}){super({});const{compressed:o,encrypted:s,useCompressionStream:f,zipCrypto:d,signed:_,level:h}=t,x=this;let y,z,c=wt(super.readable);s&&!d||!_||(y=new Je,c=Q(c,y)),o&&(c=ht(c,f,{level:h,chunkSize:e},a,r)),s&&(d?c=Q(c,new Dn(t)):(z=new An(t),c=Q(c,z))),_t(x,c,()=>{let g;s&&!d&&(g=z.signature),s&&!d||!_||(g=new DataView(y.value.buffer).getUint32(0)),x.signature=g})}}class Tn extends TransformStream{constructor(t,{chunkSize:e,DecompressionStream:r,DecompressionStreamNative:a}){super({});const{zipCrypto:o,encrypted:s,signed:f,signature:d,compressed:_,useCompressionStream:h}=t;let x,y,z=wt(super.readable);s&&(o?z=Q(z,new Un(t)):(y=new zn(t),z=Q(z,y))),_&&(z=ht(z,h,{chunkSize:e},a,r)),s&&!o||!f||(x=new Je,z=Q(z,x)),_t(this,z,()=>{if((!s||o)&&f){const c=new DataView(x.value.buffer);if(d!=c.getUint32(0,!1))throw new Error(Xe)}})}}function wt(n){return Q(n,new TransformStream({transform(t,e){t&&t.length&&e.enqueue(t)}}))}function _t(n,t,e){t=Q(t,new TransformStream({flush:e})),Object.defineProperty(n,"readable",{get:()=>t})}function ht(n,t,e,r,a){try{n=Q(n,new(t&&r?r:a)(ft,e))}catch{if(!t)return n;try{n=Q(n,new a(ft,e))}catch{return n}}return n}function Q(n,t){return n.pipeThrough(t)}const Fn="message",On="start",Cn="pull",bt="data",gt="close",pt="inflate";class Wn extends TransformStream{constructor(t,e){super({});const r=this,{codecType:a}=t;let o;a.startsWith("deflate")?o=En:a.startsWith(pt)&&(o=Tn);let s=0,f=0;const d=new o(t,e),_=super.readable,h=new TransformStream({transform(y,z){y&&y.length&&(f+=y.length,z.enqueue(y))},flush(){Object.assign(r,{inputSize:f})}}),x=new TransformStream({transform(y,z){y&&y.length&&(s+=y.length,z.enqueue(y))},flush(){const{signature:y}=d;Object.assign(r,{signature:y,outputSize:s,inputSize:f})}});Object.defineProperty(r,"readable",{get:()=>_.pipeThrough(h).pipeThrough(d).pipeThrough(x)})}}class Mn extends TransformStream{constructor(t){let e;super({transform:function r(a,o){if(e){const s=new Uint8Array(e.length+a.length);s.set(e),s.set(a,e.length),a=s,e=null}a.length>t?(o.enqueue(a.slice(0,t)),r(a.slice(t),o)):e=a},flush(r){e&&e.length&&r.enqueue(e)}})}}let mt=typeof Worker!=Y;class Te{constructor(t,{readable:e,writable:r},{options:a,config:o,streamOptions:s,useWebWorkers:f,transferStreams:d,scripts:_},h){const{signal:x}=s;return Object.assign(t,{busy:!0,readable:e.pipeThrough(new Mn(o.chunkSize)).pipeThrough(new Ln(e,s),{signal:x}),writable:r,options:Object.assign({},a),scripts:_,transferStreams:d,terminate:()=>new Promise(y=>{const{worker:z,busy:c}=t;z?(c?t.resolveTerminated=y:(z.terminate(),y()),t.interface=null):y()}),onTaskFinished(){const{resolveTerminated:y}=t;y&&(t.resolveTerminated=null,t.terminated=!0,t.worker.terminate(),y()),t.busy=!1,h(t)}}),(f&&mt?jn:yt)(t,o)}}class Ln extends TransformStream{constructor(t,{onstart:e,onprogress:r,size:a,onend:o}){let s=0;super({async start(){e&&await Fe(e,a)},async transform(f,d){s+=f.length,r&&await Fe(r,s,a),d.enqueue(f)},async flush(){t.size=s,o&&await Fe(o,s)}})}}async function Fe(n,...t){try{await n(...t)}catch{}}function yt(n,t){return{run:()=>async function({options:e,readable:r,writable:a,onTaskFinished:o},s){try{const f=new Wn(e,s);await r.pipeThrough(f).pipeTo(a,{preventClose:!0,preventAbort:!0});const{signature:d,inputSize:_,outputSize:h}=f;return{signature:d,inputSize:_,outputSize:h}}finally{o()}}(n,t)}}function jn(n,t){const{baseURL:e,chunkSize:r}=t;if(!n.interface){let a;try{a=function(o,s,f){const d={type:"module"};let _,h;typeof o==ce&&(o=o());try{_=new URL(o,s)}catch{_=o}if(xt)try{h=new Worker(_)}catch{xt=!1,h=new Worker(_,d)}else h=new Worker(_,d);return h.addEventListener(Fn,x=>async function({data:y},z){const{type:c,value:g,messageId:i,result:l,error:u}=y,{reader:b,writer:p,resolveResult:v,rejectResult:m,onTaskFinished:w}=z;try{if(u){const{message:D,stack:U,code:k,name:S}=u,E=new Error(D);Object.assign(E,{stack:U,code:k,name:S}),A(E)}else{if(c==Cn){const{value:D,done:U}=await b.read();ye({type:bt,value:D,done:U,messageId:i},z)}c==bt&&(await p.ready,await p.write(new Uint8Array(g)),ye({type:"ack",messageId:i},z)),c==gt&&A(null,l)}}catch(D){ye({type:gt,messageId:i},z),A(D)}function A(D,U){D?m(D):v(U),p&&p.releaseLock(),w()}}(x,f)),h}(n.scripts[0],e,n)}catch{return mt=!1,yt(n,t)}Object.assign(n,{worker:a,interface:{run:()=>async function(o,s){let f,d;const _=new Promise((l,u)=>{f=l,d=u});Object.assign(o,{reader:null,writer:null,resolveResult:f,rejectResult:d,result:_});const{readable:h,options:x,scripts:y}=o,{writable:z,closed:c}=function(l){let u;const b=new Promise(p=>u=p);return{writable:new WritableStream({async write(p){const v=l.getWriter();await v.ready,await v.write(p),v.releaseLock()},close(){u()},abort:p=>l.getWriter().abort(p)}),closed:b}}(o.writable),g=ye({type:On,scripts:y.slice(1),options:x,config:s,readable:h,writable:z},o);g||Object.assign(o,{reader:h.getReader(),writer:z.getWriter()});const i=await _;return g||await z.getWriter().close(),await c,i}(n,{chunkSize:r})}})}return n.interface}let xt=!0,kt=!0;function ye(n,{worker:t,writer:e,onTaskFinished:r,transferStreams:a}){try{let{value:o,readable:s,writable:f}=n;const d=[];if(o&&(o.byteLength<o.buffer.byteLength?n.value=o.buffer.slice(0,o.byteLength):n.value=o.buffer,d.push(n.value)),a&&kt?(s&&d.push(s),f&&d.push(f)):n.readable=n.writable=null,d.length)try{return t.postMessage(n,d),!0}catch{kt=!1,n.readable=n.writable=null,t.postMessage(n)}else t.postMessage(n)}catch(o){throw e&&e.releaseLock(),r(),o}}let ie=[];const Oe=[];let vt=0;async function Pn(n,t){const{options:e,config:r}=t,{transferStreams:a,useWebWorkers:o,useCompressionStream:s,codecType:f,compressed:d,signed:_,encrypted:h}=e,{workerScripts:x,maxWorkers:y}=r;t.transferStreams=a||a===V;const z=!(d||_||h||t.transferStreams);return t.useWebWorkers=!z&&(o||o===V&&r.useWebWorkers),t.scripts=t.useWebWorkers&&x?x[f]:[],e.useCompressionStream=s||s===V&&r.useCompressionStream,(await async function(){const g=ie.find(i=>!i.busy);if(g)return St(g),new Te(g,n,t,c);if(ie.length<y){const i={indexWorker:vt};return vt++,ie.push(i),new Te(i,n,t,c)}return new Promise(i=>Oe.push({resolve:i,stream:n,workerOptions:t}))}()).run();function c(g){if(Oe.length){const[{resolve:i,stream:l,workerOptions:u}]=Oe.splice(0,1);i(new Te(g,l,u,c))}else g.worker?(St(g),function(i,l){const{config:u}=l,{terminateWorkerTimeout:b}=u;Number.isFinite(b)&&b>=0&&(i.terminated?i.terminated=!1:i.terminateTimeout=setTimeout(async()=>{ie=ie.filter(p=>p!=i);try{await i.terminate()}catch{}},b))}(g,t)):ie=ie.filter(i=>i!=g)}}function St(n){const{terminateTimeout:t}=n;t&&(clearTimeout(t),n.terminateTimeout=null)}const Rn=65536,zt="writable";class Ce{constructor(){this.size=0}init(){this.initialized=!0}}class At extends Ce{get readable(){const t=this,{chunkSize:e=Rn}=t,r=new ReadableStream({start(){this.chunkOffset=0},async pull(a){const{offset:o=0,size:s,diskNumberStart:f}=r,{chunkOffset:d}=this;a.enqueue(await N(t,o+d,Math.min(e,s-d),f)),d+e>s?a.close():this.chunkOffset+=e}});return r}}class Ut extends At{constructor(t){super(),Object.assign(this,{blob:t,size:t.size})}async readUint8Array(t,e){const r=this,a=t+e;let o=await(t||a<r.size?r.blob.slice(t,a):r.blob).arrayBuffer();return o.byteLength>e&&(o=o.slice(t,a)),new Uint8Array(o)}}class Dt extends Ce{constructor(t){super();const e=new TransformStream,r=[];t&&r.push(["Content-Type",t]),Object.defineProperty(this,zt,{get:()=>e.writable}),this.blob=new Response(e.readable,{headers:r}).blob()}getData(){return this.blob}}class Bn extends Dt{constructor(t){super(t),Object.assign(this,{encoding:t,utf8:!t||t.toLowerCase()=="utf-8"})}async getData(){const{encoding:t,utf8:e}=this,r=await super.getData();if(r.text&&e)return r.text();{const a=new FileReader;return new Promise((o,s)=>{Object.assign(a,{onload:({target:f})=>o(f.result),onerror:()=>s(a.error)}),a.readAsText(r,t)})}}}class In extends At{constructor(t){super(),this.readers=t}async init(){const t=this,{readers:e}=t;t.lastDiskNumber=0,t.lastDiskOffset=0,await Promise.all(e.map(async(r,a)=>{await r.init(),a!=e.length-1&&(t.lastDiskOffset+=r.size),t.size+=r.size})),super.init()}async readUint8Array(t,e,r=0){const a=this,{readers:o}=this;let s,f=r;f==-1&&(f=o.length-1);let d=t;for(;d>=o[f].size;)d-=o[f].size,f++;const _=o[f],h=_.size;if(d+e<=h)s=await N(_,d,e);else{const x=h-d;s=new Uint8Array(e),s.set(await N(_,d,x)),s.set(await a.readUint8Array(t+x,e-x,r),x)}return a.lastDiskNumber=Math.max(f,a.lastDiskNumber),s}}class Et extends Ce{constructor(t,e=4294967295){super();const r=this;let a,o,s;Object.assign(r,{diskNumber:0,diskOffset:0,size:0,maxSize:e,availableSize:e});const f=new WritableStream({async write(h){const{availableSize:x}=r;if(s)h.length>=x?(await d(h.slice(0,x)),await _(),r.diskOffset+=a.size,r.diskNumber++,s=null,await this.write(h.slice(x))):await d(h);else{const{value:y,done:z}=await t.next();if(z&&!y)throw new Error("Writer iterator completed too soon");a=y,a.size=0,a.maxSize&&(r.maxSize=a.maxSize),r.availableSize=r.maxSize,await xe(a),o=y.writable,s=o.getWriter(),await this.write(h)}},async close(){await s.ready,await _()}});async function d(h){const x=h.length;x&&(await s.ready,await s.write(h),a.size+=x,r.size+=x,r.availableSize-=x)}async function _(){o.size=a.size,await s.close()}Object.defineProperty(r,zt,{get:()=>f})}}async function xe(n,t){if(!n.init||n.initialized)return Promise.resolve();await n.init(t)}function Nn(n){return Array.isArray(n)&&(n=new In(n)),n instanceof ReadableStream&&(n={readable:n}),n}function N(n,t,e,r){return n.readUint8Array(t,e,r)}const Tt="\0\u263A\u263B\u2665\u2666\u2663\u2660\u2022\u25D8\u25CB\u25D9\u2642\u2640\u266A\u266B\u263C\u25BA\u25C4\u2195\u203C\xB6\xA7\u25AC\u21A8\u2191\u2193\u2192\u2190\u221F\u2194\u25B2\u25BC !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\u2302\xC7\xFC\xE9\xE2\xE4\xE0\xE5\xE7\xEA\xEB\xE8\xEF\xEE\xEC\xC4\xC5\xC9\xE6\xC6\xF4\xF6\xF2\xFB\xF9\xFF\xD6\xDC\xA2\xA3\xA5\u20A7\u0192\xE1\xED\xF3\xFA\xF1\xD1\xAA\xBA\xBF\u2310\xAC\xBD\xBC\xA1\xAB\xBB\u2591\u2592\u2593\u2502\u2524\u2561\u2562\u2556\u2555\u2563\u2551\u2557\u255D\u255C\u255B\u2510\u2514\u2534\u252C\u251C\u2500\u253C\u255E\u255F\u255A\u2554\u2569\u2566\u2560\u2550\u256C\u2567\u2568\u2564\u2565\u2559\u2558\u2552\u2553\u256B\u256A\u2518\u250C\u2588\u2584\u258C\u2590\u2580\u03B1\xDF\u0393\u03C0\u03A3\u03C3\xB5\u03C4\u03A6\u0398\u03A9\u03B4\u221E\u03C6\u03B5\u2229\u2261\xB1\u2265\u2264\u2320\u2321\xF7\u2248\xB0\u2219\xB7\u221A\u207F\xB2\u25A0 ".split(""),Vn=Tt.length==256;function ke(n,t){return t&&t.trim().toLowerCase()=="cp437"?function(e){if(Vn){let r="";for(let a=0;a<e.length;a++)r+=Tt[e[a]];return r}return new TextDecoder().decode(e)}(n):new TextDecoder(t).decode(n)}const Ft="filename",Ot="rawFilename",Ct="comment",Wt="rawComment",Mt="uncompressedSize",Lt="compressedSize",jt="offset",We="diskNumberStart",Me="lastModDate",Le="rawLastModDate",Pt="lastAccessDate",qn="rawLastAccessDate",Rt="creationDate",Kn="rawCreationDate",Hn=[Ft,Ot,Lt,Mt,Me,Le,Ct,Wt,Pt,Rt,jt,We,We,"internalFileAttribute","externalFileAttribute","msDosCompatible","zip64","encrypted","version","versionMadeBy","zipCrypto","directory","bitFlag","signature","filenameUTF8","commentUTF8","compressionMethod","extraField","rawExtraField","extraFieldZip64","extraFieldUnicodePath","extraFieldUnicodeComment","extraFieldAES","extraFieldNTFS","extraFieldExtendedTimestamp"];class Bt{constructor(t){Hn.forEach(e=>this[e]=t[e])}}const je="File format is not recognized",Zn="Zip64 extra field not found",It="Compression method not supported",Nt="Split zip file",Vt="utf-8",qt="cp437",Gn=[[Mt,ne],[Lt,ne],[jt,ne],[We,re]],Jn={[re]:{getValue:P,bytes:4},[ne]:{getValue:ve,bytes:8}};class Qn{constructor(t,e={}){Object.assign(this,{reader:Nn(t),options:e,config:$})}async*getEntriesGenerator(t={}){const e=this;let{reader:r}=e;const{config:a}=e;if(await xe(r),r.size!==V&&r.readUint8Array||(r=new Ut(await new Response(r.readable).blob()),await xe(r)),r.size<ae)throw new Error(je);r.chunkSize=function(U){return Math.max(U.chunkSize,64)}(a);const o=await async function(U,k,S,E,O){const C=new Uint8Array(4);(function(M,Z,T){M.setUint32(Z,T,!0)})(B(C),0,k);const F=E+O;return await W(E)||await W(Math.min(F,S));async function W(M){const Z=S-M,T=await N(U,Z,M);for(let I=T.length-E;I>=0;I--)if(T[I]==C[0]&&T[I+1]==C[1]&&T[I+2]==C[2]&&T[I+3]==C[3])return{offset:Z+I,buffer:T.slice(I,I+E).buffer}}}(r,101010256,r.size,ae,1048560);if(!o)throw P(B(await N(r,0,4)))==134695760?new Error(Nt):new Error("End of central directory not found");const s=B(o);let f=P(s,12),d=P(s,16);const _=o.offset,h=R(s,20),x=_+ae+h;let y=R(s,4);const z=r.lastDiskNumber||0;let c=R(s,6),g=R(s,8),i=0,l=0;if(d==ne||f==ne||g==re||c==re){const U=B(await N(r,o.offset-20,20));if(P(U,0)==117853008){d=ve(U,8);let k=await N(r,d,56,-1),S=B(k);const E=o.offset-20-56;if(P(S,0)!=qe&&d!=E){const O=d;d=E,i=d-O,k=await N(r,d,56,-1),S=B(k)}if(P(S,0)!=qe)throw new Error("End of Zip64 central directory locator not found");y==re&&(y=P(S,16)),c==re&&(c=P(S,20)),g==re&&(g=ve(S,32)),f==ne&&(f=ve(S,40)),d-=f}}if(d>=r.size&&(i=r.size-d-f-ae,d=r.size-f-ae),z!=y)throw new Error(Nt);if(d<0)throw new Error(je);let u=0,b=await N(r,d,f,c),p=B(b);if(f){const U=o.offset-f;if(P(p,u)!=Ve&&d!=U){const k=d;d=U,i+=d-k,b=await N(r,d,f,c),p=B(b)}}const v=o.offset-d-(r.lastDiskOffset||0);if(f!=v&&v>=0&&(f=v,b=await N(r,d,f,c),p=B(b)),d<0||d>=r.size)throw new Error(je);const m=K(e,t,"filenameEncoding"),w=K(e,t,"commentEncoding");for(let U=0;U<g;U++){const k=new Xn(r,a,e.options);if(P(p,u)!=Ve)throw new Error("Central directory header not found");Kt(k,p,u+6);const S=!!k.bitFlag.languageEncodingFlag,E=u+46,O=E+k.filenameLength,C=O+k.extraFieldLength,F=R(p,u+4),W=!0,M=b.subarray(E,O),Z=R(p,u+32),T=C+Z,I=b.subarray(C,T),L=S,j=S,Gt=!(16&~le(p,u+38)),Jt=P(p,u+42)+i;Object.assign(k,{versionMadeBy:F,msDosCompatible:W,compressedSize:0,uncompressedSize:0,commentLength:Z,directory:Gt,offset:Jt,diskNumberStart:R(p,u+34),internalFileAttribute:R(p,u+36),externalFileAttribute:P(p,u+38),rawFilename:M,filenameUTF8:L,commentUTF8:j,rawExtraField:b.subarray(O,C)});const Qt=K(e,t,"decodeText")||ke,Xt=L?Vt:m||qt,Yt=j?Vt:w||qt;let Se=Qt(M,Xt);Se===V&&(Se=ke(M,Xt));let Re=Qt(I,Yt);Re===V&&(Re=ke(I,Yt)),Object.assign(k,{rawComment:I,filename:Se,comment:Re,directory:Gt||Se.endsWith("/")}),l=Math.max(Jt,l),await Ht(k,k,p,u+6),k.zipCrypto=k.encrypted&&!k.extraFieldAES;const Be=new Bt(k);Be.getData=($n,er)=>k.getData($n,Be,er),u=T;const{onprogress:$t}=t;if($t)try{await $t(U+1,g,new Bt(k))}catch{}yield Be}const A=K(e,t,"extractPrependedData"),D=K(e,t,"extractAppendedData");return A&&(e.prependedData=l>0?await N(r,0,l):new Uint8Array),e.comment=h?await N(r,_+ae,h):new Uint8Array,D&&(e.appendedData=x<r.size?await N(r,x,r.size-x):new Uint8Array),!0}async getEntries(t={}){const e=[];for await(const r of this.getEntriesGenerator(t))e.push(r);return e}async close(){}}class Xn{constructor(t,e,r){Object.assign(this,{reader:t,config:e,options:r})}async getData(t,e,r={}){const a=this,{reader:o,offset:s,diskNumberStart:f,extraFieldAES:d,compressionMethod:_,config:h,bitFlag:x,signature:y,rawLastModDate:z,uncompressedSize:c,compressedSize:g}=a,i=e.localDirectory={},l=B(await N(o,s,30,f));let u=K(a,r,"password"),b=K(a,r,"rawPassword");const p=K(a,r,"passThrough");if(u=u&&u.length&&u,b=b&&b.length&&b,d&&d.originalCompressionMethod!=99)throw new Error(It);if(_!=0&&_!=8&&!p)throw new Error(It);if(P(l,0)!=67324752)throw new Error("Local file header not found");Kt(i,l,4),i.rawExtraField=i.extraFieldLength?await N(o,s+30+i.filenameLength,i.extraFieldLength,f):new Uint8Array,await Ht(a,i,l,4,!0),Object.assign(e,{lastAccessDate:i.lastAccessDate,creationDate:i.creationDate});const v=a.encrypted&&i.encrypted&&!p,m=v&&!d;if(p||(e.zipCrypto=m),v){if(!m&&d.strength===V)throw new Error("Encryption method not supported");if(!u&&!b)throw new Error("File contains encrypted entry")}const w=s+30+i.filenameLength+i.extraFieldLength,A=g,D=o.readable;Object.assign(D,{diskNumberStart:f,offset:w,size:A});const U=K(a,r,"signal"),k=K(a,r,"checkPasswordOnly");k&&(t=new WritableStream),t=function(M){M.writable===V&&typeof M.next==ce&&(M=new Et(M)),M instanceof WritableStream&&(M={writable:M});const{writable:Z}=M;return Z.size===V&&(Z.size=0),M instanceof Et||Object.assign(M,{diskNumber:0,diskOffset:0,availableSize:1/0,maxSize:1/0}),M}(t),await xe(t,p?g:c);const{writable:S}=t,{onstart:E,onprogress:O,onend:C}=r,F={options:{codecType:pt,password:u,rawPassword:b,zipCrypto:m,encryptionStrength:d&&d.strength,signed:K(a,r,"checkSignature")&&!p,passwordVerification:m&&(x.dataDescriptor?z>>>8&255:y>>>24&255),signature:y,compressed:_!=0&&!p,encrypted:a.encrypted&&!p,useWebWorkers:K(a,r,"useWebWorkers"),useCompressionStream:K(a,r,"useCompressionStream"),transferStreams:K(a,r,"transferStreams"),checkPasswordOnly:k},config:h,streamOptions:{signal:U,size:A,onstart:E,onprogress:O,onend:C}};let W=0;try{({outputSize:W}=await Pn({readable:D,writable:S},F))}catch(M){if(!k||M.message!=Ae)throw M}finally{const M=K(a,r,"preventClose");S.size+=W,M||S.locked||await S.getWriter().close()}return k?V:t.getData?t.getData():S}}function Kt(n,t,e){const r=n.rawBitFlag=R(t,e+2),a=!(1&~r),o=P(t,e+6);Object.assign(n,{encrypted:a,version:R(t,e),bitFlag:{level:(6&r)>>1,dataDescriptor:!(8&~r),languageEncodingFlag:!(2048&~r)},rawLastModDate:o,lastModDate:Yn(o),filenameLength:R(t,e+22),extraFieldLength:R(t,e+24)})}async function Ht(n,t,e,r,a){const{rawExtraField:o}=t,s=t.extraField=new Map,f=B(new Uint8Array(o));let d=0;try{for(;d<o.length;){const l=R(f,d),u=R(f,d+2);s.set(l,{type:l,data:o.slice(d+4,d+4+u)}),d+=4+u}}catch{}const _=R(e,r+4);Object.assign(t,{signature:P(e,r+10),uncompressedSize:P(e,r+18),compressedSize:P(e,r+14)});const h=s.get(1);h&&(function(l,u){u.zip64=!0;const b=B(l.data),p=Gn.filter(([v,m])=>u[v]==m);for(let v=0,m=0;v<p.length;v++){const[w,A]=p[v];if(u[w]==A){const D=Jn[A];u[w]=l[w]=D.getValue(b,m),m+=D.bytes}else if(l[w])throw new Error(Zn)}}(h,t),t.extraFieldZip64=h);const x=s.get(28789);x&&(await Zt(x,Ft,Ot,t,n),t.extraFieldUnicodePath=x);const y=s.get(25461);y&&(await Zt(y,Ct,Wt,t,n),t.extraFieldUnicodeComment=y);const z=s.get(39169);z?(function(l,u,b){const p=B(l.data),v=le(p,4);Object.assign(l,{vendorVersion:le(p,0),vendorId:le(p,2),strength:v,originalCompressionMethod:b,compressionMethod:R(p,5)}),u.compressionMethod=l.compressionMethod}(z,t,_),t.extraFieldAES=z):t.compressionMethod=_;const c=s.get(10);c&&(function(l,u){const b=B(l.data);let p,v=4;try{for(;v<l.data.length&&!p;){const m=R(b,v),w=R(b,v+2);m==1&&(p=l.data.slice(v+4,v+4+w)),v+=4+w}}catch{}try{if(p&&p.length==24){const m=B(p),w=m.getBigUint64(0,!0),A=m.getBigUint64(8,!0),D=m.getBigUint64(16,!0);Object.assign(l,{rawLastModDate:w,rawLastAccessDate:A,rawCreationDate:D});const U=Pe(w),k=Pe(A),S={lastModDate:U,lastAccessDate:k,creationDate:Pe(D)};Object.assign(l,S),Object.assign(u,S)}}catch{}}(c,t),t.extraFieldNTFS=c);const g=s.get(21589);g&&(function(l,u,b){const p=B(l.data),v=le(p,0),m=[],w=[];b?(1&~v||(m.push(Me),w.push(Le)),2&~v||(m.push(Pt),w.push(qn)),4&~v||(m.push(Rt),w.push(Kn))):l.data.length>=5&&(m.push(Me),w.push(Le));let A=1;m.forEach((D,U)=>{if(l.data.length>=A+4){const k=P(p,A);u[D]=l[D]=new Date(1e3*k);const S=w[U];l[S]=k}A+=4})}(g,t,a),t.extraFieldExtendedTimestamp=g);const i=s.get(6534);i&&(t.extraFieldUSDZ=i)}async function Zt(n,t,e,r,a){const o=B(n.data),s=new be;s.append(a[e]);const f=B(new Uint8Array(4));f.setUint32(0,s.get(),!0);const d=P(o,1);Object.assign(n,{version:le(o,0),[t]:ke(n.data.subarray(5)),valid:!a.bitFlag.languageEncodingFlag&&d==P(f,0)}),n.valid&&(r[t]=n[t],r[t+"UTF8"]=!0)}function K(n,t,e){return t[e]===V?n.options[e]:t[e]}function Yn(n){const t=(4294901760&n)>>16,e=65535&n;try{return new Date(1980+((65024&t)>>9),((480&t)>>5)-1,31&t,(63488&e)>>11,(2016&e)>>5,2*(31&e),0)}catch{}}function Pe(n){return new Date(Number(n/BigInt(1e4)-BigInt(116444736e5)))}function le(n,t){return n.getUint8(t)}function R(n,t){return n.getUint16(t,!0)}function P(n,t){return n.getUint32(t,!0)}function ve(n,t){return Number(n.getBigUint64(t,!0))}function B(n){return new DataView(n.buffer)}Ze({Inflate:function(n){const t=new Ne,e=n&&n.chunkSize?Math.floor(2*n.chunkSize):131072,r=new Uint8Array(e);let a=!1;t.inflateInit(),t.next_out=r,this.append=function(o,s){const f=[];let d,_,h=0,x=0,y=0;if(o.length!==0){t.next_in_index=0,t.next_in=o,t.avail_in=o.length;do{if(t.next_out_index=0,t.avail_out=e,t.avail_in!==0||a||(t.next_in_index=0,a=!0),d=t.inflate(0),a&&d===-5){if(t.avail_in!==0)throw new Error("inflating: bad input")}else if(d!==0&&d!==1)throw new Error("inflating: "+t.msg);if((a||d===1)&&t.avail_in===o.length)throw new Error("inflating: bad input");t.next_out_index&&(t.next_out_index===e?f.push(new Uint8Array(r)):f.push(r.subarray(0,t.next_out_index))),y+=t.next_out_index,s&&t.next_in_index>0&&t.next_in_index!=h&&(s(t.next_in_index),h=t.next_in_index)}while(t.avail_in>0||t.avail_out===0);return f.length>1?(_=new Uint8Array(y),f.forEach(function(z){_.set(z,x),x+=z.length})):_=f[0]?new Uint8Array(f[0]):new Uint8Array,_}},this.flush=function(){t.inflateEnd()}}})}}]);
