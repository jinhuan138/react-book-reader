"use strict";(self.webpackChunkreact_book_reader_docs=self.webpackChunkreact_book_reader_docs||[]).push([[408],{90408:function(h,l,i){i.d(l,{makeComicBook:function(){return d}});const d=({entries:f,loadBlob:c,getSize:p},u)=>{const r=new Map,a=new Map,m=async e=>{if(r.has(e))return r.get(e);const t=URL.createObjectURL(await c(e)),n=URL.createObjectURL(new Blob([`<img src="${t}">`],{type:"text/html"}));return a.set(e,[t,n]),r.set(e,n),n},g=e=>{var t,n;(n=(t=a.get(e))==null?void 0:t.forEach)==null||n.call(t,_=>URL.revokeObjectURL(_)),a.delete(e),r.delete(e)},b=[".jpg",".jpeg",".png",".gif",".bmp",".webp",".svg",".jxl",".avif"],s=f.map(e=>e.filename).filter(e=>b.some(t=>e.endsWith(t))).sort();if(!s.length)throw new Error("No supported image files in archive");const o={};return o.getCover=()=>c(s[0]),o.metadata={title:u.name},o.sections=s.map(e=>({id:e,load:()=>m(e),unload:()=>g(e),size:p(e)})),o.toc=s.map(e=>({label:e,href:e})),o.rendition={layout:"pre-paginated"},o.resolveHref=e=>({index:o.sections.findIndex(t=>t.id===e)}),o.splitTOCHref=e=>[e,null],o.getTOCFragment=e=>e.documentElement,o.destroy=()=>{for(const e of a.values())for(const t of e)URL.revokeObjectURL(t)},o}}}]);
