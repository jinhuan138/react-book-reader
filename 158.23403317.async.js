"use strict";(self.webpackChunkreact_book_reader_docs=self.webpackChunkreact_book_reader_docs||[]).push([[158],{49158:function(Bo,bt,I){I.r(bt),I.d(bt,{BookView:function(){return kn},ReactReader:function(){return An},default:function(){return An}});var E=I(92379);(function(){"use strict";try{if(typeof document<"u"){var r=document.createElement("style");r.appendChild(document.createTextNode('.reader{position:absolute;inset:50px 50px 20px}.viewHolder{height:100%;width:100%;position:relative}#viewer{height:100%}.tocAreaButton .expansion:before{transform:rotate(-45deg) translate(2.5px)}.tocAreaButton .expansion:after{transform:rotate(45deg) translate(-2.5px)}.tocAreaButton .open:before{transform:rotate(45deg) translate(2.5px)}.tocAreaButton .open:after{transform:rotate(-45deg) translate(-2.5px)}.tocAreaButton{-webkit-user-select:none;user-select:none;appearance:none;background:none;border:none;display:block;font-family:sans-serif;width:100%;font-size:.9em;text-align:left;padding:.9em 1em;border-bottom:1px solid #ddd;color:#aaa;box-sizing:border-box;outline:none;cursor:pointer;position:relative}.tocAreaButton:hover{background:#0000000d}.tocAreaButton:active{background:#0000001a}.active{color:#1565c0;border-bottom:2px solid #1565c0}.tocAreaButton .expansion{cursor:pointer;transform:translateY(-50%);top:50%;right:12px;position:absolute;width:10px;background-color:#a2a5b4;transition:transform .3s ease-in-out,top .3s ease-in-out}.tocAreaButton .expansion:after,.tocAreaButton .expansion:before{content:"";position:absolute;width:6px;height:2px;background-color:currentcolor;border-radius:2px;transition:transform .3s ease-in-out,top .3s ease-in-out}.container{overflow:hidden;position:relative;height:100%}.containerExpanded{transform:translate(256px)}.readerArea{position:relative;z-index:1;height:100%;width:100%;background-color:#fff;transition:all .3s ease}.container .titleArea{position:absolute;top:20px;left:50px;right:50px;text-align:center;color:#999;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.tocBackground{position:absolute;inset:0 0 0 256px;z-index:1}.tocArea{position:absolute;left:0;top:0;bottom:0;z-index:0;width:256px;overflow-y:auto;-webkit-overflow-scrolling:touch;background:#f2f2f2;padding:10px 0}.tocArea::-webkit-scrollbar{width:5px;height:5px}.tocArea::-webkit-scrollbar-thumb:vertical{height:5px;background-color:#0000001a;border-radius:.5rem}.tocButton{background:none;border:none;width:32px;height:32px;position:absolute;top:10px;left:10px;border-radius:2px;outline:none;cursor:pointer}.tocButtonBar{position:absolute;width:60%;background:#ccc;height:2px;left:50%;margin:-1px -30%;top:50%;transition:all .5s ease}.tocButtonExpanded{background:#f2f2f2}.arrow{outline:none;border:none;background:none;position:absolute;top:50%;margin-top:-32px;font-size:64px;padding:0 10px;color:#e2e2e2;font-family:arial,sans-serif;cursor:pointer;-webkit-user-select:none;user-select:none;appearance:none;font-weight:400}.arrow:hover{color:#777}.arrow:disabled{cursor:not-allowed;color:#e2e2e2}.prev{left:1px}.next{right:1px}.loadingView{position:absolute;top:50%;left:10%;right:10%;color:#ccc;text-align:center;margin-top:-.5em}.errorView{position:absolute;top:50%;left:10%;right:10%;color:#c00;text-align:center;margin-top:-.5em}')),document.head.appendChild(r)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();var mt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},wt={exports:{}},_={},yt;function Nn(){if(yt)return _;yt=1;var r=E,t=Symbol.for("react.element"),e=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function a(u,c,f){var l,s={},g=null,v=null;f!==void 0&&(g=""+f),c.key!==void 0&&(g=""+c.key),c.ref!==void 0&&(v=c.ref);for(l in c)n.call(c,l)&&!i.hasOwnProperty(l)&&(s[l]=c[l]);if(u&&u.defaultProps)for(l in c=u.defaultProps,c)s[l]===void 0&&(s[l]=c[l]);return{$$typeof:t,type:u,key:g,ref:v,props:s,_owner:o.current}}return _.Fragment=e,_.jsx=a,_.jsxs=a,_}var Cn={},xt;function Lo(){return xt||(xt=1),Cn}var jt;function Mn(){return jt||(jt=1,wt.exports=Nn()),wt.exports}var y=Mn();function In(r,t){r.addEventListener("keyup",e=>{e.key==="ArrowUp"||e.key==="ArrowRight"?t("next"):(e.key==="ArrowDown"||e.key==="ArrowLeft")&&t("prev")},!1)}function Dn(r,t){let e=0,n;r.addEventListener("wheel",o=>{o.ignore||(o.ignore=!0,clearTimeout(n),e+=o.deltaY,n=setTimeout(()=>{if(Math.abs(e)>=750){let i=Math.sign(e)>0?"next":"prev";t(i),e=0}e=0},50))})}function _n(r,t){let e,n,o;r.addEventListener("touchstart",i=>{i.ignore||(i.ignore=!0,e=i.changedTouches[0].pageX,n=i.changedTouches[0].pageY,o=Date.now())},!1),r.addEventListener("touchend",i=>{if(i.ignore)return;i.ignore=!0;const a=i.changedTouches[0].pageX-e,u=i.changedTouches[0].pageY-n;Date.now()-o<=500&&(Math.abs(a)>=50&&Math.abs(u)<=200?t(a<0?"prev":"next"):Math.abs(u)>=50&&Math.abs(a)<=200?t(u<0?"up":"down"):(r?.defaultView?.getSelection()?.removeAllRanges(),r.dispatchEvent(new MouseEvent("click",{clientX:e,clientY:n})),i.preventDefault()))},!1)}var Rn={},zn={},St={},R,Et;function A(){if(Et)return R;Et=1;var r=function(t){return t&&t.Math===Math&&t};return R=r(typeof globalThis=="object"&&globalThis)||r(typeof window=="object"&&window)||r(typeof self=="object"&&self)||r(typeof mt=="object"&&mt)||r(typeof R=="object"&&R)||function(){return this}()||Function("return this")(),R}var G={},kt,Ot;function L(){return Ot||(Ot=1,kt=function(r){try{return!!r()}catch{return!0}}),kt}var X,At;function N(){if(At)return X;At=1;var r=L();return X=!r(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),X}var H,Pt;function K(){if(Pt)return H;Pt=1;var r=L();return H=!r(function(){var t=function(){}.bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),H}var J,Bt;function D(){if(Bt)return J;Bt=1;var r=K(),t=Function.prototype.call;return J=r?t.bind(t):function(){return t.apply(t,arguments)},J}var Q={},Lt;function Vn(){if(Lt)return Q;Lt=1;var r={}.propertyIsEnumerable,t=Object.getOwnPropertyDescriptor,e=t&&!r.call({1:2},1);return Q.f=e?function(n){var o=t(this,n);return!!o&&o.enumerable}:r,Q}var Tt,Nt;function Z(){return Nt||(Nt=1,Tt=function(r,t){return{enumerable:!(r&1),configurable:!(r&2),writable:!(r&4),value:t}}),Tt}var q,Ct;function O(){if(Ct)return q;Ct=1;var r=K(),t=Function.prototype,e=t.call,n=r&&t.bind.bind(e,e);return q=r?n:function(o){return function(){return e.apply(o,arguments)}},q}var rr,Mt;function tr(){if(Mt)return rr;Mt=1;var r=O(),t=r({}.toString),e=r("".slice);return rr=function(n){return e(t(n),8,-1)},rr}var er,It;function Un(){if(It)return er;It=1;var r=O(),t=L(),e=tr(),n=Object,o=r("".split);return er=t(function(){return!n("z").propertyIsEnumerable(0)})?function(i){return e(i)==="String"?o(i,""):n(i)}:n,er}var Dt,_t;function nr(){return _t||(_t=1,Dt=function(r){return r==null}),Dt}var or,Rt;function $(){if(Rt)return or;Rt=1;var r=nr(),t=TypeError;return or=function(e){if(r(e))throw new t("Can't call method on "+e);return e},or}var ir,zt;function ar(){if(zt)return ir;zt=1;var r=Un(),t=$();return ir=function(e){return r(t(e))},ir}var ur,Vt;function P(){if(Vt)return ur;Vt=1;var r=typeof document=="object"&&document.all;return ur=typeof r>"u"&&r!==void 0?function(t){return typeof t=="function"||t===r}:function(t){return typeof t=="function"},ur}var cr,Ut;function z(){if(Ut)return cr;Ut=1;var r=P();return cr=function(t){return typeof t=="object"?t!==null:r(t)},cr}var fr,Ft;function sr(){if(Ft)return fr;Ft=1;var r=A(),t=P(),e=function(n){return t(n)?n:void 0};return fr=function(n,o){return arguments.length<2?e(r[n]):r[n]&&r[n][o]},fr}var lr,$t;function Yt(){if($t)return lr;$t=1;var r=O();return lr=r({}.isPrototypeOf),lr}var vr,Wt;function Fn(){if(Wt)return vr;Wt=1;var r=A(),t=r.navigator,e=t&&t.userAgent;return vr=e?String(e):"",vr}var pr,Gt;function $n(){if(Gt)return pr;Gt=1;var r=A(),t=Fn(),e=r.process,n=r.Deno,o=e&&e.versions||n&&n.version,i=o&&o.v8,a,u;return i&&(a=i.split("."),u=a[0]>0&&a[0]<4?1:+(a[0]+a[1])),!u&&t&&(a=t.match(/Edge\/(\d+)/),(!a||a[1]>=74)&&(a=t.match(/Chrome\/(\d+)/),a&&(u=+a[1]))),pr=u,pr}var dr,Xt;function Ht(){if(Xt)return dr;Xt=1;var r=$n(),t=L(),e=A(),n=e.String;return dr=!!Object.getOwnPropertySymbols&&!t(function(){var o=Symbol("symbol detection");return!n(o)||!(Object(o)instanceof Symbol)||!Symbol.sham&&r&&r<41}),dr}var gr,Kt;function Jt(){if(Kt)return gr;Kt=1;var r=Ht();return gr=r&&!Symbol.sham&&typeof Symbol.iterator=="symbol",gr}var hr,Qt;function Zt(){if(Qt)return hr;Qt=1;var r=sr(),t=P(),e=Yt(),n=Jt(),o=Object;return hr=n?function(i){return typeof i=="symbol"}:function(i){var a=r("Symbol");return t(a)&&e(a.prototype,o(i))},hr}var br,qt;function mr(){if(qt)return br;qt=1;var r=String;return br=function(t){try{return r(t)}catch{return"Object"}},br}var wr,re;function V(){if(re)return wr;re=1;var r=P(),t=mr(),e=TypeError;return wr=function(n){if(r(n))return n;throw new e(t(n)+" is not a function")},wr}var yr,te;function xr(){if(te)return yr;te=1;var r=V(),t=nr();return yr=function(e,n){var o=e[n];return t(o)?void 0:r(o)},yr}var jr,ee;function Yn(){if(ee)return jr;ee=1;var r=D(),t=P(),e=z(),n=TypeError;return jr=function(o,i){var a,u;if(i==="string"&&t(a=o.toString)&&!e(u=r(a,o))||t(a=o.valueOf)&&!e(u=r(a,o))||i!=="string"&&t(a=o.toString)&&!e(u=r(a,o)))return u;throw new n("Can't convert object to primitive value")},jr}var Sr={exports:{}},ne,oe;function ie(){return oe||(oe=1,ne=!1),ne}var Er,ae;function kr(){if(ae)return Er;ae=1;var r=A(),t=Object.defineProperty;return Er=function(e,n){try{t(r,e,{value:n,configurable:!0,writable:!0})}catch{r[e]=n}return n},Er}var ue;function Or(){if(ue)return Sr.exports;ue=1;var r=ie(),t=A(),e=kr(),n="__core-js_shared__",o=Sr.exports=t[n]||e(n,{});return(o.versions||(o.versions=[])).push({version:"3.48.0",mode:r?"pure":"global",copyright:"\xA9 2013\u20132025 Denis Pushkarev (zloirock.ru), 2025\u20132026 CoreJS Company (core-js.io). All rights reserved.",license:"https://github.com/zloirock/core-js/blob/v3.48.0/LICENSE",source:"https://github.com/zloirock/core-js"}),Sr.exports}var Ar,ce;function fe(){if(ce)return Ar;ce=1;var r=Or();return Ar=function(t,e){return r[t]||(r[t]=e||{})},Ar}var Pr,se;function Wn(){if(se)return Pr;se=1;var r=$(),t=Object;return Pr=function(e){return t(r(e))},Pr}var Br,le;function C(){if(le)return Br;le=1;var r=O(),t=Wn(),e=r({}.hasOwnProperty);return Br=Object.hasOwn||function(n,o){return e(t(n),o)},Br}var Lr,ve;function pe(){if(ve)return Lr;ve=1;var r=O(),t=0,e=Math.random(),n=r(1.1.toString);return Lr=function(o){return"Symbol("+(o===void 0?"":o)+")_"+n(++t+e,36)},Lr}var Tr,de;function U(){if(de)return Tr;de=1;var r=A(),t=fe(),e=C(),n=pe(),o=Ht(),i=Jt(),a=r.Symbol,u=t("wks"),c=i?a.for||a:a&&a.withoutSetter||n;return Tr=function(f){return e(u,f)||(u[f]=o&&e(a,f)?a[f]:c("Symbol."+f)),u[f]},Tr}var Nr,ge;function Gn(){if(ge)return Nr;ge=1;var r=D(),t=z(),e=Zt(),n=xr(),o=Yn(),i=U(),a=TypeError,u=i("toPrimitive");return Nr=function(c,f){if(!t(c)||e(c))return c;var l=n(c,u),s;if(l){if(f===void 0&&(f="default"),s=r(l,c,f),!t(s)||e(s))return s;throw new a("Can't convert object to primitive value")}return f===void 0&&(f="number"),o(c,f)},Nr}var Cr,he;function Mr(){if(he)return Cr;he=1;var r=Gn(),t=Zt();return Cr=function(e){var n=r(e,"string");return t(n)?n:n+""},Cr}var Ir,be;function Xn(){if(be)return Ir;be=1;var r=A(),t=z(),e=r.document,n=t(e)&&t(e.createElement);return Ir=function(o){return n?e.createElement(o):{}},Ir}var Dr,me;function we(){if(me)return Dr;me=1;var r=N(),t=L(),e=Xn();return Dr=!r&&!t(function(){return Object.defineProperty(e("div"),"a",{get:function(){return 7}}).a!==7}),Dr}var ye;function xe(){if(ye)return G;ye=1;var r=N(),t=D(),e=Vn(),n=Z(),o=ar(),i=Mr(),a=C(),u=we(),c=Object.getOwnPropertyDescriptor;return G.f=r?c:function(f,l){if(f=o(f),l=i(l),u)try{return c(f,l)}catch{}if(a(f,l))return n(!t(e.f,f,l),f[l])},G}var _r={},Rr,je;function Hn(){if(je)return Rr;je=1;var r=N(),t=L();return Rr=r&&t(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Rr}var zr,Se;function F(){if(Se)return zr;Se=1;var r=z(),t=String,e=TypeError;return zr=function(n){if(r(n))return n;throw new e(t(n)+" is not an object")},zr}var Ee;function Y(){if(Ee)return _r;Ee=1;var r=N(),t=we(),e=Hn(),n=F(),o=Mr(),i=TypeError,a=Object.defineProperty,u=Object.getOwnPropertyDescriptor,c="enumerable",f="configurable",l="writable";return _r.f=r?e?function(s,g,v){if(n(s),g=o(g),n(v),typeof s=="function"&&g==="prototype"&&"value"in v&&l in v&&!v[l]){var d=u(s,g);d&&d[l]&&(s[g]=v.value,v={configurable:f in v?v[f]:d[f],enumerable:c in v?v[c]:d[c],writable:!1})}return a(s,g,v)}:a:function(s,g,v){if(n(s),g=o(g),n(v),t)try{return a(s,g,v)}catch{}if("get"in v||"set"in v)throw new i("Accessors not supported");return"value"in v&&(s[g]=v.value),s},_r}var Vr,ke;function Oe(){if(ke)return Vr;ke=1;var r=N(),t=Y(),e=Z();return Vr=r?function(n,o,i){return t.f(n,o,e(1,i))}:function(n,o,i){return n[o]=i,n},Vr}var Ur={exports:{}},Fr,Ae;function Kn(){if(Ae)return Fr;Ae=1;var r=N(),t=C(),e=Function.prototype,n=r&&Object.getOwnPropertyDescriptor,o=t(e,"name"),i=o&&function(){}.name==="something",a=o&&(!r||r&&n(e,"name").configurable);return Fr={EXISTS:o,PROPER:i,CONFIGURABLE:a},Fr}var $r,Pe;function Jn(){if(Pe)return $r;Pe=1;var r=O(),t=P(),e=Or(),n=r(Function.toString);return t(e.inspectSource)||(e.inspectSource=function(o){return n(o)}),$r=e.inspectSource,$r}var Yr,Be;function Qn(){if(Be)return Yr;Be=1;var r=A(),t=P(),e=r.WeakMap;return Yr=t(e)&&/native code/.test(String(e)),Yr}var Wr,Le;function Zn(){if(Le)return Wr;Le=1;var r=fe(),t=pe(),e=r("keys");return Wr=function(n){return e[n]||(e[n]=t(n))},Wr}var Te,Ne;function Ce(){return Ne||(Ne=1,Te={}),Te}var Gr,Me;function qn(){if(Me)return Gr;Me=1;var r=Qn(),t=A(),e=z(),n=Oe(),o=C(),i=Or(),a=Zn(),u=Ce(),c="Object already initialized",f=t.TypeError,l=t.WeakMap,s,g,v,d=function(p){return v(p)?g(p):s(p,{})},b=function(p){return function(h){var j;if(!e(h)||(j=g(h)).type!==p)throw new f("Incompatible receiver, "+p+" required");return j}};if(r||i.state){var m=i.state||(i.state=new l);m.get=m.get,m.has=m.has,m.set=m.set,s=function(p,h){if(m.has(p))throw new f(c);return h.facade=p,m.set(p,h),h},g=function(p){return m.get(p)||{}},v=function(p){return m.has(p)}}else{var x=a("state");u[x]=!0,s=function(p,h){if(o(p,x))throw new f(c);return h.facade=p,n(p,x,h),h},g=function(p){return o(p,x)?p[x]:{}},v=function(p){return o(p,x)}}return Gr={set:s,get:g,has:v,enforce:d,getterFor:b},Gr}var Ie;function ro(){if(Ie)return Ur.exports;Ie=1;var r=O(),t=L(),e=P(),n=C(),o=N(),i=Kn().CONFIGURABLE,a=Jn(),u=qn(),c=u.enforce,f=u.get,l=String,s=Object.defineProperty,g=r("".slice),v=r("".replace),d=r([].join),b=o&&!t(function(){return s(function(){},"length",{value:8}).length!==8}),m=String(String).split("String"),x=Ur.exports=function(p,h,j){g(l(h),0,7)==="Symbol("&&(h="["+v(l(h),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),j&&j.getter&&(h="get "+h),j&&j.setter&&(h="set "+h),(!n(p,"name")||i&&p.name!==h)&&(o?s(p,"name",{value:h,configurable:!0}):p.name=h),b&&j&&n(j,"arity")&&p.length!==j.arity&&s(p,"length",{value:j.arity});try{j&&n(j,"constructor")&&j.constructor?o&&s(p,"prototype",{writable:!1}):p.prototype&&(p.prototype=void 0)}catch{}var S=c(p);return n(S,"source")||(S.source=d(m,typeof h=="string"?h:"")),p};return Function.prototype.toString=x(function(){return e(this)&&f(this).source||a(this)},"toString"),Ur.exports}var Xr,De;function to(){if(De)return Xr;De=1;var r=P(),t=Y(),e=ro(),n=kr();return Xr=function(o,i,a,u){u||(u={});var c=u.enumerable,f=u.name!==void 0?u.name:i;if(r(a)&&e(a,f,u),u.global)c?o[i]=a:n(i,a);else{try{u.unsafe?o[i]&&(c=!0):delete o[i]}catch{}c?o[i]=a:t.f(o,i,{value:a,enumerable:!1,configurable:!u.nonConfigurable,writable:!u.nonWritable})}return o},Xr}var Hr={},Kr,_e;function eo(){if(_e)return Kr;_e=1;var r=Math.ceil,t=Math.floor;return Kr=Math.trunc||function(e){var n=+e;return(n>0?t:r)(n)},Kr}var Jr,Re;function ze(){if(Re)return Jr;Re=1;var r=eo();return Jr=function(t){var e=+t;return e!==e||e===0?0:r(e)},Jr}var Qr,Ve;function no(){if(Ve)return Qr;Ve=1;var r=ze(),t=Math.max,e=Math.min;return Qr=function(n,o){var i=r(n);return i<0?t(i+o,0):e(i,o)},Qr}var Zr,Ue;function oo(){if(Ue)return Zr;Ue=1;var r=ze(),t=Math.min;return Zr=function(e){var n=r(e);return n>0?t(n,9007199254740991):0},Zr}var qr,Fe;function $e(){if(Fe)return qr;Fe=1;var r=oo();return qr=function(t){return r(t.length)},qr}var rt,Ye;function io(){if(Ye)return rt;Ye=1;var r=ar(),t=no(),e=$e(),n=function(o){return function(i,a,u){var c=r(i),f=e(c);if(f===0)return!o&&-1;var l=t(u,f),s;if(o&&a!==a){for(;f>l;)if(s=c[l++],s!==s)return!0}else for(;f>l;l++)if((o||l in c)&&c[l]===a)return o||l||0;return!o&&-1}};return rt={includes:n(!0),indexOf:n(!1)},rt}var tt,We;function ao(){if(We)return tt;We=1;var r=O(),t=C(),e=ar(),n=io().indexOf,o=Ce(),i=r([].push);return tt=function(a,u){var c=e(a),f=0,l=[],s;for(s in c)!t(o,s)&&t(c,s)&&i(l,s);for(;u.length>f;)t(c,s=u[f++])&&(~n(l,s)||i(l,s));return l},tt}var Ge,Xe;function uo(){return Xe||(Xe=1,Ge=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),Ge}var He;function co(){if(He)return Hr;He=1;var r=ao(),t=uo(),e=t.concat("length","prototype");return Hr.f=Object.getOwnPropertyNames||function(n){return r(n,e)},Hr}var Ke={},Je;function fo(){return Je||(Je=1,Ke.f=Object.getOwnPropertySymbols),Ke}var et,Qe;function so(){if(Qe)return et;Qe=1;var r=sr(),t=O(),e=co(),n=fo(),o=F(),i=t([].concat);return et=r("Reflect","ownKeys")||function(a){var u=e.f(o(a)),c=n.f;return c?i(u,c(a)):u},et}var nt,Ze;function lo(){if(Ze)return nt;Ze=1;var r=C(),t=so(),e=xe(),n=Y();return nt=function(o,i,a){for(var u=t(i),c=n.f,f=e.f,l=0;l<u.length;l++){var s=u[l];!r(o,s)&&!(a&&r(a,s))&&c(o,s,f(i,s))}},nt}var ot,qe;function vo(){if(qe)return ot;qe=1;var r=L(),t=P(),e=/#|\.prototype\./,n=function(c,f){var l=i[o(c)];return l===u?!0:l===a?!1:t(f)?r(f):!!f},o=n.normalize=function(c){return String(c).replace(e,".").toLowerCase()},i=n.data={},a=n.NATIVE="N",u=n.POLYFILL="P";return ot=n,ot}var it,rn;function tn(){if(rn)return it;rn=1;var r=A(),t=xe().f,e=Oe(),n=to(),o=kr(),i=lo(),a=vo();return it=function(u,c){var f=u.target,l=u.global,s=u.stat,g,v,d,b,m,x;if(l?v=r:s?v=r[f]||o(f,{}):v=r[f]&&r[f].prototype,v)for(d in c){if(m=c[d],u.dontCallGetSet?(x=t(v,d),b=x&&x.value):b=v[d],g=a(l?d:f+(s?".":"#")+d,u.forced),!g&&b!==void 0){if(typeof m==typeof b)continue;i(m,b)}(u.sham||b&&b.sham)&&e(m,"sham",!0),n(v,d,m,u)}},it}var at,en;function po(){if(en)return at;en=1;var r=tr(),t=O();return at=function(e){if(r(e)==="Function")return t(e)},at}var ut,nn;function go(){if(nn)return ut;nn=1;var r=po(),t=V(),e=K(),n=r(r.bind);return ut=function(o,i){return t(o),i===void 0?o:e?n(o,i):function(){return o.apply(i,arguments)}},ut}var on,an;function un(){return an||(an=1,on={}),on}var ct,cn;function ho(){if(cn)return ct;cn=1;var r=U(),t=un(),e=r("iterator"),n=Array.prototype;return ct=function(o){return o!==void 0&&(t.Array===o||n[e]===o)},ct}var ft,fn;function bo(){if(fn)return ft;fn=1;var r=U(),t=r("toStringTag"),e={};return e[t]="z",ft=String(e)==="[object z]",ft}var st,sn;function mo(){if(sn)return st;sn=1;var r=bo(),t=P(),e=tr(),n=U(),o=n("toStringTag"),i=Object,a=e(function(){return arguments}())==="Arguments",u=function(c,f){try{return c[f]}catch{}};return st=r?e:function(c){var f,l,s;return c===void 0?"Undefined":c===null?"Null":typeof(l=u(f=i(c),o))=="string"?l:a?e(f):(s=e(f))==="Object"&&t(f.callee)?"Arguments":s},st}var lt,ln;function vn(){if(ln)return lt;ln=1;var r=mo(),t=xr(),e=nr(),n=un(),o=U(),i=o("iterator");return lt=function(a){if(!e(a))return t(a,i)||t(a,"@@iterator")||n[r(a)]},lt}var vt,pn;function wo(){if(pn)return vt;pn=1;var r=D(),t=V(),e=F(),n=mr(),o=vn(),i=TypeError;return vt=function(a,u){var c=arguments.length<2?o(a):u;if(t(c))return e(r(c,a));throw new i(n(a)+" is not iterable")},vt}var pt,dn;function yo(){if(dn)return pt;dn=1;var r=D(),t=F(),e=xr();return pt=function(n,o,i){var a,u;t(n);try{if(a=e(n,"return"),!a){if(o==="throw")throw i;return i}a=r(a,n)}catch(c){u=!0,a=c}if(o==="throw")throw i;if(u)throw a;return t(a),i},pt}var dt,gn;function hn(){if(gn)return dt;gn=1;var r=go(),t=D(),e=F(),n=mr(),o=ho(),i=$e(),a=Yt(),u=wo(),c=vn(),f=yo(),l=TypeError,s=function(v,d){this.stopped=v,this.result=d},g=s.prototype;return dt=function(v,d,b){var m=b&&b.that,x=!!(b&&b.AS_ENTRIES),p=!!(b&&b.IS_RECORD),h=!!(b&&b.IS_ITERATOR),j=!!(b&&b.INTERRUPTED),S=r(d,m),k,T,M,W,w,Pn,Bn,Ln=function(B){return k&&f(k,"normal"),new s(!0,B)},Tn=function(B){return x?(e(B),j?S(B[0],B[1],Ln):S(B[0],B[1])):j?S(B,Ln):S(B)};if(p)k=v.iterator;else if(h)k=v;else{if(T=c(v),!T)throw new l(n(v)+" is not iterable");if(o(T)){for(M=0,W=i(v);W>M;M++)if(w=Tn(v[M]),w&&a(g,w))return w;return new s(!1)}k=u(v,T)}for(Pn=p?v.next:k.next;!(Bn=t(Pn,k)).done;){try{w=Tn(Bn.value)}catch(B){f(k,"throw",B)}if(typeof w=="object"&&w&&a(g,w))return w}return new s(!1)},dt}var gt,bn;function xo(){if(bn)return gt;bn=1;var r=O(),t=Map.prototype;return gt={Map,set:r(t.set),get:r(t.get),has:r(t.has),remove:r(t.delete),proto:t},gt}var mn;function jo(){if(mn)return St;mn=1;var r=tn(),t=O(),e=V(),n=$(),o=hn(),i=xo(),a=ie(),u=L(),c=i.Map,f=i.has,l=i.get,s=i.set,g=t([].push),v=a||u(function(){return c.groupBy("ab",function(d){return d}).get("a").length!==1});return r({target:"Map",stat:!0,forced:a||v},{groupBy:function(d,b){n(d),e(b);var m=new c,x=0;return o(d,function(p){var h=b(p,x++);f(m,h)?g(l(m,h),p):s(m,h,[p])}),m}}),St}var wn;function So(){return wn||(wn=1,jo()),zn}var Eo={},yn={},ht,xn;function ko(){if(xn)return ht;xn=1;var r=N(),t=Y(),e=Z();return ht=function(n,o,i){r?t.f(n,o,e(0,i)):n[o]=i},ht}var jn;function Oo(){if(jn)return yn;jn=1;var r=tn(),t=ko(),e=sr(),n=O(),o=V(),i=$(),a=Mr(),u=hn(),c=L(),f=Object.groupBy,l=e("Object","create"),s=n([].push),g=!f||c(function(){return f("ab",function(v){return v}).a.length!==1});return r({target:"Object",stat:!0,forced:g},{groupBy:function(v,d){i(v),o(d);var b=l(null),m=0;return u(v,function(x){var p=a(d(x,m++));p in b?s(b[p],x):t(b,p,[x])}),b}}),yn}var Sn;function Ao(){return Sn||(Sn=1,Oo()),Eo}var En;function Po(){return En||(En=1,So(),Ao()),Rn}Po(),typeof Promise.withResolvers>"u"&&window&&(window.Promise.withResolvers=function(){let r,t;return{promise:new Promise((e,n)=>{r=e,t=n}),resolve:r,reject:t}});const kn=(0,E.forwardRef)((r,t)=>{const{url:e,location:n,getRendition:o,tocChanged:i,onUpdateLocation:a,LoadingView:u,ErrorView:c}=r,[f,l]=(0,E.useState)(!1),[s,g]=(0,E.useState)(!1),v=(0,E.useRef)(null),d=(0,E.useRef)(null),[b,m]=(0,E.useState)(!0),x=async()=>{try{e&&(d.current?d.current.close():(d.current=document.createElement("foliate-view"),v.current.append(d.current)),await d.current.open(e),o&&o(d.current),p())}catch(w){console.error("Error opening book:",w),g(!0)}},p=()=>{l(!0);const{book:w}=d.current;j(),i&&i(w.toc),n?d.current.goTo(n):d.current.renderer.next()},h=w=>{w==="next"?T():w==="prev"&&M()},j=()=>{d.current.addEventListener("load",S),d.current.addEventListener("relocate",k)},S=({detail:{doc:w}})=>{Dn(w,h),_n(w,h),In(w,h)},k=({detail:w})=>{a&&a(w)},T=()=>d.current.next(),M=()=>d.current.prev(),W=w=>d.current.goTo(w);return(0,E.useImperativeHandle)(t,()=>({prevPage:M,nextPage:T,setLocation:W})),(0,E.useEffect)(()=>{v.current&&!customElements.get("foliate-view")&&I.e(169).then(I.bind(I,44169)).then(w=>w.v).then(()=>{x()})},[v.current]),(0,E.useEffect)(()=>{b?m(!1):x()},[e]),y.jsx("div",{className:"reader",children:y.jsxs("div",{className:"viewHolder",children:[y.jsx("div",{ref:v,id:"viewer",style:{display:f?"":"none"}}),f&&u,s&&c]})})});function On(r){const{toc:t=[],current:e="",setLocation:n,isSubmenu:o=!1}=r;return y.jsx(y.Fragment,{children:t.map((i,a)=>y.jsxs("div",{children:[y.jsxs("button",{className:`tocAreaButton ${i.href===e?"active":""}`,onClick:()=>{i.subitems&&i.subitems.length>0?(i.expansion=!i.expansion,n(i.href,!1)):n(i.href)},children:[o?" ".repeat(4)+i.label:i.label,i.subitems&&i.subitems.length>0&&y.jsx("div",{className:`expansion ${i.expansion?"open":""}`})]}),i.subitems&&i.subitems.length>0&&y.jsx("div",{"v-show":i.expansion,children:y.jsx(On,{toc:i.subitems,current:e,setLocation:n,isSubmenu:!0})})]},a))})}function An(r){const{showToc:t=!0,getRendition:e,LoadingView:n,ErrorView:o,...i}=r,a=(0,E.useRef)(null),[u,c]=(0,E.useState)([]),[f,l]=(0,E.useState)(!1),[s,g]=(0,E.useState)(""),[v,d]=(0,E.useState)(""),b=S=>{e&&e(S);const{book:k}=S,T=k.metadata?.title;g(T||"")},m=S=>{c(S)},x=()=>a.current.nextPage(),p=()=>a.current.nextPage(),h=()=>{l(!f)},j=(S,k=!0)=>{a.current.setLocation(S),d(S),l(!k)};return y.jsxs("div",{className:"container",children:[y.jsxs("div",{className:`readerArea ${f?"containerExpanded":""}`,children:[t&&y.jsxs("button",{className:`tocButton ${f?"tocButtonExpanded":""}`,onClick:h,children:[y.jsx("span",{className:"tocButtonBar",style:{top:"35%"}}),y.jsx("span",{className:"tocButtonBar",style:{top:"66%"}})]}),y.jsx("div",{className:"titleArea",title:s}),y.jsx(kn,{ref:a,onGetRendition:b,tocChanged:m,LoadingView:n||y.jsx("div",{className:"loadingView",children:"Loading\u2026"}),ErrorView:o||y.jsx("div",{className:"errorView",children:"Error loading book"}),...i}),y.jsx("button",{className:"arrow pre",onClick:x,children:"\u2039"}),y.jsx("button",{className:"arrow next",onClick:p,children:"\u203A"})]}),t&&y.jsxs("div",{children:[y.jsx("div",{className:"tocArea",children:y.jsx(On,{toc:u,current:v,setLocation:j,isSubmenu:!1})}),f&&y.jsx("div",{className:"tocBackground",onClick:h})]})]})}}}]);
