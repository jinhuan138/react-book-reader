"use strict";(self.webpackChunkreact_book_reader_docs=self.webpackChunkreact_book_reader_docs||[]).push([[949],{96949:function(S,b,v){v.d(b,{searchMatcher:function(){return L}});const I=e=>e.replace(/\s+/g," "),w=(e,{startIndex:l,startOffset:a,endIndex:o,endOffset:s})=>{const i=e[l],r=e[o],d=i===r?i.slice(a,s):i.slice(a)+e.slice(i+1,r).join("")+r.slice(0,s),f=I(i.slice(0,a)).trimStart(),g=I(r.slice(s)).trimEnd(),t=f.length<50?"":"\u2026",n=g.length<50?"":"\u2026",c=`${t}${f.slice(-50)}`,h=`${g.slice(0,50)}${n}`;return{pre:c,match:d,post:h}},k=function*(e,l,a={}){const{locales:o="en",sensitivity:s}=a,i=s==="variant",r=e.join(""),d=i?r:r.toLocaleLowerCase(o),f=i?l:l.toLocaleLowerCase(o),g=f.length;let t=-1,n=-1,c=0;do if(t=d.indexOf(f,t+1),t>-1){for(;c<=t;)c+=e[++n].length;const h=n,m=t-(c-e[n].length),u=t+g;for(;c<=u;)c+=e[++n].length;const y=n,x=u-(c-e[n].length),p={startIndex:h,startOffset:m,endIndex:y,endOffset:x};yield{range:p,excerpt:w(e,p)}}while(t>-1)},O=function*(e,l,a={}){var o;const{locales:s="en",granularity:i="word",sensitivity:r="base"}=a;let d,f;try{d=new Intl.Segmenter(s,{usage:"search",granularity:i}),f=new Intl.Collator(s,{sensitivity:r})}catch(h){console.warn(h),d=new Intl.Segmenter("en",{usage:"search",granularity:i}),f=new Intl.Collator("en",{sensitivity:r})}const g=Array.from(d.segment(l)).length,t=[];let n=0,c=d.segment(e[n])[Symbol.iterator]();e:for(;n<e.length;){for(;t.length<g;){const{done:m,value:u}=c.next();if(m)if(n++,n<e.length){c=d.segment(e[n])[Symbol.iterator]();continue}else break e;const{index:y,segment:x}=u;if(/[^\p{Format}]/u.test(x)){if(/\s/u.test(x)){/\s/u.test((o=t[t.length-1])==null?void 0:o.segment)||t.push({strIndex:n,index:y,segment:" "});continue}u.strIndex=n,t.push(u)}}const h=t.map(m=>m.segment).join("");if(f.compare(l,h)===0){const m=n,u=t[t.length-1],y=u.index+u.segment.length,x=t[0].strIndex,p=t[0].index,_={startIndex:x,startOffset:p,endIndex:m,endOffset:y};yield{range:_,excerpt:w(e,_)}}t.shift()}},C=(e,l,a)=>{const{granularity:o="grapheme",sensitivity:s="base"}=a;return!(Intl!=null&&Intl.Segmenter)||o==="grapheme"&&(s==="variant"||s==="accent")?k(e,l,a):O(e,l,a)},L=(e,l)=>{const{defalutLocale:a,matchCase:o,matchDiacritics:s,matchWholeWords:i}=l;return function*(r,d){const f=e(r,function*(g,t){for(const n of C(g,d,{locales:r.body.lang||r.documentElement.lang||a||"en",granularity:i?"word":"grapheme",sensitivity:s&&o?"variant":s&&!o?"accent":!s&&o?"case":"base"})){const{startIndex:c,startOffset:h,endIndex:m,endOffset:u}=n.range;n.range=t(c,h,m,u),yield n}});for(const g of f)yield g}}}}]);
