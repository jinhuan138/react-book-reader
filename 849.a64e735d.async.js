"use strict";(self.webpackChunkreact_book_reader_docs=self.webpackChunkreact_book_reader_docs||[]).push([[849],{92849:function(L,_,b){b.d(_,{searchMatcher:function(){return C}});const I=e=>e.replace(/\s+/g," "),w=(e,{startIndex:d,startOffset:o,endIndex:c,endOffset:r})=>{const i=e[d],a=e[c],f=i===a?i.slice(o,r):i.slice(o)+e.slice(i+1,a).join("")+a.slice(0,r),h=I(i.slice(0,o)).trimStart(),n=I(a.slice(r)).trimEnd(),t=h.length<50?"":"\u2026",l=n.length<50?"":"\u2026",s=`${t}${h.slice(-50)}`,g=`${n.slice(0,50)}${l}`;return{pre:s,match:f,post:g}},v=function*(e,d,o={}){const{locales:c="en",sensitivity:r}=o,i=r==="variant",a=e.join(""),f=i?a:a.toLocaleLowerCase(c),h=i?d:d.toLocaleLowerCase(c),n=h.length;let t=-1,l=-1,s=0;do if(t=f.indexOf(h,t+1),t>-1){for(;s<=t;)s+=e[++l].length;const g=l,u=t-(s-e[l].length),m=t+n;for(;s<=m;)s+=e[++l].length;const x=l,p=m-(s-e[l].length),y={startIndex:g,startOffset:u,endIndex:x,endOffset:p};yield{range:y,excerpt:w(e,y)}}while(t>-1)},k=function*(e,d,o={}){const{locales:c="en",granularity:r="word",sensitivity:i="base"}=o;let a,f;try{a=new Intl.Segmenter(c,{usage:"search",granularity:r}),f=new Intl.Collator(c,{sensitivity:i})}catch(s){console.warn(s),a=new Intl.Segmenter("en",{usage:"search",granularity:r}),f=new Intl.Collator("en",{sensitivity:i})}const h=Array.from(a.segment(d)).length,n=[];let t=0,l=a.segment(e[t])[Symbol.iterator]();e:for(;t<e.length;){for(;n.length<h;){const{done:g,value:u}=l.next();if(g)if(t++,t<e.length){l=a.segment(e[t])[Symbol.iterator]();continue}else break e;const{index:m,segment:x}=u;if(/[^\p{Format}]/u.test(x)){if(/\s/u.test(x)){/\s/u.test(n[n.length-1]?.segment)||n.push({strIndex:t,index:m,segment:" "});continue}u.strIndex=t,n.push(u)}}const s=n.map(g=>g.segment).join("");if(f.compare(d,s)===0){const g=t,u=n[n.length-1],m=u.index+u.segment.length,x=n[0].strIndex,p=n[0].index,y={startIndex:x,startOffset:p,endIndex:g,endOffset:m};yield{range:y,excerpt:w(e,y)}}n.shift()}},O=(e,d,o)=>{const{granularity:c="grapheme",sensitivity:r="base"}=o;return!Intl?.Segmenter||c==="grapheme"&&(r==="variant"||r==="accent")?v(e,d,o):k(e,d,o)},C=(e,d)=>{const{defaultLocale:o,matchCase:c,matchDiacritics:r,matchWholeWords:i,acceptNode:a}=d;return function*(f,h){const n=e(f,function*(t,l){for(const s of O(t,h,{locales:f.body.lang||f.documentElement.lang||o||"en",granularity:i?"word":"grapheme",sensitivity:r&&c?"variant":r&&!c?"accent":!r&&c?"case":"base"})){const{startIndex:g,startOffset:u,endIndex:m,endOffset:x}=s.range;s.range=l(g,u,m,x),yield s}},a);for(const t of n)yield t}}}}]);
