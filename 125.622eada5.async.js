"use strict";(self.webpackChunkreact_book_reader_docs=self.webpackChunkreact_book_reader_docs||[]).push([[125],{41333:function(Ui,kn,vn){vn.d(kn,{BlobReader:function(){return en},BlobWriter:function(){return tn},TextWriter:function(){return ui},ZipReader:function(){return ki},configure:function(){return kt}});const K=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],nt=1440,Sn=[96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,192,80,7,10,0,8,96,0,8,32,0,9,160,0,8,0,0,8,128,0,8,64,0,9,224,80,7,6,0,8,88,0,8,24,0,9,144,83,7,59,0,8,120,0,8,56,0,9,208,81,7,17,0,8,104,0,8,40,0,9,176,0,8,8,0,8,136,0,8,72,0,9,240,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,200,81,7,13,0,8,100,0,8,36,0,9,168,0,8,4,0,8,132,0,8,68,0,9,232,80,7,8,0,8,92,0,8,28,0,9,152,84,7,83,0,8,124,0,8,60,0,9,216,82,7,23,0,8,108,0,8,44,0,9,184,0,8,12,0,8,140,0,8,76,0,9,248,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,196,81,7,11,0,8,98,0,8,34,0,9,164,0,8,2,0,8,130,0,8,66,0,9,228,80,7,7,0,8,90,0,8,26,0,9,148,84,7,67,0,8,122,0,8,58,0,9,212,82,7,19,0,8,106,0,8,42,0,9,180,0,8,10,0,8,138,0,8,74,0,9,244,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,204,81,7,15,0,8,102,0,8,38,0,9,172,0,8,6,0,8,134,0,8,70,0,9,236,80,7,9,0,8,94,0,8,30,0,9,156,84,7,99,0,8,126,0,8,62,0,9,220,82,7,27,0,8,110,0,8,46,0,9,188,0,8,14,0,8,142,0,8,78,0,9,252,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,194,80,7,10,0,8,97,0,8,33,0,9,162,0,8,1,0,8,129,0,8,65,0,9,226,80,7,6,0,8,89,0,8,25,0,9,146,83,7,59,0,8,121,0,8,57,0,9,210,81,7,17,0,8,105,0,8,41,0,9,178,0,8,9,0,8,137,0,8,73,0,9,242,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,202,81,7,13,0,8,101,0,8,37,0,9,170,0,8,5,0,8,133,0,8,69,0,9,234,80,7,8,0,8,93,0,8,29,0,9,154,84,7,83,0,8,125,0,8,61,0,9,218,82,7,23,0,8,109,0,8,45,0,9,186,0,8,13,0,8,141,0,8,77,0,9,250,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,198,81,7,11,0,8,99,0,8,35,0,9,166,0,8,3,0,8,131,0,8,67,0,9,230,80,7,7,0,8,91,0,8,27,0,9,150,84,7,67,0,8,123,0,8,59,0,9,214,82,7,19,0,8,107,0,8,43,0,9,182,0,8,11,0,8,139,0,8,75,0,9,246,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,206,81,7,15,0,8,103,0,8,39,0,9,174,0,8,7,0,8,135,0,8,71,0,9,238,80,7,9,0,8,95,0,8,31,0,9,158,84,7,99,0,8,127,0,8,63,0,9,222,82,7,27,0,8,111,0,8,47,0,9,190,0,8,15,0,8,143,0,8,79,0,9,254,96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,193,80,7,10,0,8,96,0,8,32,0,9,161,0,8,0,0,8,128,0,8,64,0,9,225,80,7,6,0,8,88,0,8,24,0,9,145,83,7,59,0,8,120,0,8,56,0,9,209,81,7,17,0,8,104,0,8,40,0,9,177,0,8,8,0,8,136,0,8,72,0,9,241,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,201,81,7,13,0,8,100,0,8,36,0,9,169,0,8,4,0,8,132,0,8,68,0,9,233,80,7,8,0,8,92,0,8,28,0,9,153,84,7,83,0,8,124,0,8,60,0,9,217,82,7,23,0,8,108,0,8,44,0,9,185,0,8,12,0,8,140,0,8,76,0,9,249,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,197,81,7,11,0,8,98,0,8,34,0,9,165,0,8,2,0,8,130,0,8,66,0,9,229,80,7,7,0,8,90,0,8,26,0,9,149,84,7,67,0,8,122,0,8,58,0,9,213,82,7,19,0,8,106,0,8,42,0,9,181,0,8,10,0,8,138,0,8,74,0,9,245,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,205,81,7,15,0,8,102,0,8,38,0,9,173,0,8,6,0,8,134,0,8,70,0,9,237,80,7,9,0,8,94,0,8,30,0,9,157,84,7,99,0,8,126,0,8,62,0,9,221,82,7,27,0,8,110,0,8,46,0,9,189,0,8,14,0,8,142,0,8,78,0,9,253,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,195,80,7,10,0,8,97,0,8,33,0,9,163,0,8,1,0,8,129,0,8,65,0,9,227,80,7,6,0,8,89,0,8,25,0,9,147,83,7,59,0,8,121,0,8,57,0,9,211,81,7,17,0,8,105,0,8,41,0,9,179,0,8,9,0,8,137,0,8,73,0,9,243,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,203,81,7,13,0,8,101,0,8,37,0,9,171,0,8,5,0,8,133,0,8,69,0,9,235,80,7,8,0,8,93,0,8,29,0,9,155,84,7,83,0,8,125,0,8,61,0,9,219,82,7,23,0,8,109,0,8,45,0,9,187,0,8,13,0,8,141,0,8,77,0,9,251,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,199,81,7,11,0,8,99,0,8,35,0,9,167,0,8,3,0,8,131,0,8,67,0,9,231,80,7,7,0,8,91,0,8,27,0,9,151,84,7,67,0,8,123,0,8,59,0,9,215,82,7,19,0,8,107,0,8,43,0,9,183,0,8,11,0,8,139,0,8,75,0,9,247,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,207,81,7,15,0,8,103,0,8,39,0,9,175,0,8,7,0,8,135,0,8,71,0,9,239,80,7,9,0,8,95,0,8,31,0,9,159,84,7,99,0,8,127,0,8,63,0,9,223,82,7,27,0,8,111,0,8,47,0,9,191,0,8,15,0,8,143,0,8,79,0,9,255],zn=[80,5,1,87,5,257,83,5,17,91,5,4097,81,5,5,89,5,1025,85,5,65,93,5,16385,80,5,3,88,5,513,84,5,33,92,5,8193,82,5,9,90,5,2049,86,5,129,192,5,24577,80,5,2,87,5,385,83,5,25,91,5,6145,81,5,7,89,5,1537,85,5,97,93,5,24577,80,5,4,88,5,769,84,5,49,92,5,12289,82,5,13,90,5,3073,86,5,193,192,5,24577],An=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Un=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,112,112],En=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],Dn=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Y=15;function Ce(){let n,t,e,i,r,s;function o(f,w,h,p,S,z,c,b,a,l,d){let m,y,x,g,_,A,D,U,k,v,F,T,j,E,W;v=0,_=h;do e[f[w+v]]++,v++,_--;while(_!==0);if(e[0]==h)return c[0]=-1,b[0]=0,0;for(U=b[0],A=1;A<=Y&&e[A]===0;A++);for(D=A,U<A&&(U=A),_=Y;_!==0&&e[_]===0;_--);for(x=_,U>_&&(U=_),b[0]=U,E=1<<A;A<_;A++,E<<=1)if((E-=e[A])<0)return-3;if((E-=e[_])<0)return-3;for(e[_]+=E,s[1]=A=0,v=1,j=2;--_!=0;)s[j]=A+=e[v],j++,v++;_=0,v=0;do(A=f[w+v])!==0&&(d[s[A]++]=_),v++;while(++_<h);for(h=s[x],s[0]=_=0,v=0,g=-1,T=-U,r[0]=0,F=0,W=0;D<=x;D++)for(m=e[D];m--!=0;){for(;D>T+U;){if(g++,T+=U,W=x-T,W=W>U?U:W,(y=1<<(A=D-T))>m+1&&(y-=m+1,j=D,A<W))for(;++A<W&&!((y<<=1)<=e[++j]);)y-=e[j];if(W=1<<A,l[0]+W>nt)return-3;r[g]=F=l[0],l[0]+=W,g!==0?(s[g]=_,i[0]=A,i[1]=U,A=_>>>T-U,i[2]=F-r[g-1]-A,a.set(i,3*(r[g-1]+A))):c[0]=F}for(i[1]=D-T,v>=h?i[0]=192:d[v]<p?(i[0]=d[v]<256?0:96,i[2]=d[v++]):(i[0]=z[d[v]-p]+16+64,i[2]=S[d[v++]-p]),y=1<<D-T,A=_>>>T;A<W;A+=y)a.set(i,3*(F+A));for(A=1<<D-1;_&A;A>>>=1)_^=A;for(_^=A,k=(1<<T)-1;(_&k)!=s[g];)g--,T-=U,k=(1<<T)-1}return E!==0&&x!=1?-5:0}function u(f){let w;for(n||(n=[],t=[],e=new Int32Array(Y+1),i=[],r=new Int32Array(Y),s=new Int32Array(Y+1)),t.length<f&&(t=[]),w=0;w<f;w++)t[w]=0;for(w=0;w<Y+1;w++)e[w]=0;for(w=0;w<3;w++)i[w]=0;r.set(e.subarray(0,Y),0),s.set(e.subarray(0,Y+1),0)}this.inflate_trees_bits=function(f,w,h,p,S){let z;return u(19),n[0]=0,z=o(f,0,19,19,null,null,h,w,p,n,t),z==-3?S.msg="oversubscribed dynamic bit lengths tree":z!=-5&&w[0]!==0||(S.msg="incomplete dynamic bit lengths tree",z=-3),z},this.inflate_trees_dynamic=function(f,w,h,p,S,z,c,b,a){let l;return u(288),n[0]=0,l=o(h,0,f,257,An,Un,z,p,b,n,t),l!=0||p[0]===0?(l==-3?a.msg="oversubscribed literal/length tree":l!=-4&&(a.msg="incomplete literal/length tree",l=-3),l):(u(288),l=o(h,f,w,0,En,Dn,c,S,b,n,t),l!=0||S[0]===0&&f>257?(l==-3?a.msg="oversubscribed distance tree":l==-5?(a.msg="incomplete distance tree",l=-3):l!=-4&&(a.msg="empty distance tree with lengths",l=-3),l):0)}}Ce.inflate_trees_fixed=function(n,t,e,i){return n[0]=9,t[0]=5,e[0]=Sn,i[0]=zn,0};const me=0,it=1,rt=2,at=3,st=4,ot=5,lt=6,Me=7,ct=8,xe=9;function Fn(){const n=this;let t,e,i,r,s=0,o=0,u=0,f=0,w=0,h=0,p=0,S=0,z=0,c=0;function b(a,l,d,m,y,x,g,_){let A,D,U,k,v,F,T,j,E,W,H,V,O,R,C,M;T=_.next_in_index,j=_.avail_in,v=g.bitb,F=g.bitk,E=g.write,W=E<g.read?g.read-E-1:g.end-E,H=K[a],V=K[l];do{for(;F<20;)j--,v|=(255&_.read_byte(T++))<<F,F+=8;if(A=v&H,D=d,U=m,M=3*(U+A),(k=D[M])!==0)for(;;){if(v>>=D[M+1],F-=D[M+1],(16&k)!=0){for(k&=15,O=D[M+2]+(v&K[k]),v>>=k,F-=k;F<15;)j--,v|=(255&_.read_byte(T++))<<F,F+=8;for(A=v&V,D=y,U=x,M=3*(U+A),k=D[M];;){if(v>>=D[M+1],F-=D[M+1],(16&k)!=0){for(k&=15;F<k;)j--,v|=(255&_.read_byte(T++))<<F,F+=8;if(R=D[M+2]+(v&K[k]),v>>=k,F-=k,W-=O,E>=R)C=E-R,E-C>0&&2>E-C?(g.win[E++]=g.win[C++],g.win[E++]=g.win[C++],O-=2):(g.win.set(g.win.subarray(C,C+2),E),E+=2,C+=2,O-=2);else{C=E-R;do C+=g.end;while(C<0);if(k=g.end-C,O>k){if(O-=k,E-C>0&&k>E-C)do g.win[E++]=g.win[C++];while(--k!=0);else g.win.set(g.win.subarray(C,C+k),E),E+=k,C+=k,k=0;C=0}}if(E-C>0&&O>E-C)do g.win[E++]=g.win[C++];while(--O!=0);else g.win.set(g.win.subarray(C,C+O),E),E+=O,C+=O,O=0;break}if(64&k)return _.msg="invalid distance code",O=_.avail_in-j,O=F>>3<O?F>>3:O,j+=O,T-=O,F-=O<<3,g.bitb=v,g.bitk=F,_.avail_in=j,_.total_in+=T-_.next_in_index,_.next_in_index=T,g.write=E,-3;A+=D[M+2],A+=v&K[k],M=3*(U+A),k=D[M]}break}if(64&k)return 32&k?(O=_.avail_in-j,O=F>>3<O?F>>3:O,j+=O,T-=O,F-=O<<3,g.bitb=v,g.bitk=F,_.avail_in=j,_.total_in+=T-_.next_in_index,_.next_in_index=T,g.write=E,1):(_.msg="invalid literal/length code",O=_.avail_in-j,O=F>>3<O?F>>3:O,j+=O,T-=O,F-=O<<3,g.bitb=v,g.bitk=F,_.avail_in=j,_.total_in+=T-_.next_in_index,_.next_in_index=T,g.write=E,-3);if(A+=D[M+2],A+=v&K[k],M=3*(U+A),(k=D[M])===0){v>>=D[M+1],F-=D[M+1],g.win[E++]=D[M+2],W--;break}}else v>>=D[M+1],F-=D[M+1],g.win[E++]=D[M+2],W--}while(W>=258&&j>=10);return O=_.avail_in-j,O=F>>3<O?F>>3:O,j+=O,T-=O,F-=O<<3,g.bitb=v,g.bitk=F,_.avail_in=j,_.total_in+=T-_.next_in_index,_.next_in_index=T,g.write=E,0}n.init=function(a,l,d,m,y,x){t=me,p=a,S=l,i=d,z=m,r=y,c=x,e=null},n.proc=function(a,l,d){let m,y,x,g,_,A,D,U=0,k=0,v=0;for(v=l.next_in_index,g=l.avail_in,U=a.bitb,k=a.bitk,_=a.write,A=_<a.read?a.read-_-1:a.end-_;;)switch(t){case me:if(A>=258&&g>=10&&(a.bitb=U,a.bitk=k,l.avail_in=g,l.total_in+=v-l.next_in_index,l.next_in_index=v,a.write=_,d=b(p,S,i,z,r,c,a,l),v=l.next_in_index,g=l.avail_in,U=a.bitb,k=a.bitk,_=a.write,A=_<a.read?a.read-_-1:a.end-_,d!=0)){t=d==1?Me:xe;break}u=p,e=i,o=z,t=it;case it:for(m=u;k<m;){if(g===0)return a.bitb=U,a.bitk=k,l.avail_in=g,l.total_in+=v-l.next_in_index,l.next_in_index=v,a.write=_,a.inflate_flush(l,d);d=0,g--,U|=(255&l.read_byte(v++))<<k,k+=8}if(y=3*(o+(U&K[m])),U>>>=e[y+1],k-=e[y+1],x=e[y],x===0){f=e[y+2],t=lt;break}if(16&x){w=15&x,s=e[y+2],t=rt;break}if(!(64&x)){u=x,o=y/3+e[y+2];break}if(32&x){t=Me;break}return t=xe,l.msg="invalid literal/length code",d=-3,a.bitb=U,a.bitk=k,l.avail_in=g,l.total_in+=v-l.next_in_index,l.next_in_index=v,a.write=_,a.inflate_flush(l,d);case rt:for(m=w;k<m;){if(g===0)return a.bitb=U,a.bitk=k,l.avail_in=g,l.total_in+=v-l.next_in_index,l.next_in_index=v,a.write=_,a.inflate_flush(l,d);d=0,g--,U|=(255&l.read_byte(v++))<<k,k+=8}s+=U&K[m],U>>=m,k-=m,u=S,e=r,o=c,t=at;case at:for(m=u;k<m;){if(g===0)return a.bitb=U,a.bitk=k,l.avail_in=g,l.total_in+=v-l.next_in_index,l.next_in_index=v,a.write=_,a.inflate_flush(l,d);d=0,g--,U|=(255&l.read_byte(v++))<<k,k+=8}if(y=3*(o+(U&K[m])),U>>=e[y+1],k-=e[y+1],x=e[y],(16&x)!=0){w=15&x,h=e[y+2],t=st;break}if(!(64&x)){u=x,o=y/3+e[y+2];break}return t=xe,l.msg="invalid distance code",d=-3,a.bitb=U,a.bitk=k,l.avail_in=g,l.total_in+=v-l.next_in_index,l.next_in_index=v,a.write=_,a.inflate_flush(l,d);case st:for(m=w;k<m;){if(g===0)return a.bitb=U,a.bitk=k,l.avail_in=g,l.total_in+=v-l.next_in_index,l.next_in_index=v,a.write=_,a.inflate_flush(l,d);d=0,g--,U|=(255&l.read_byte(v++))<<k,k+=8}h+=U&K[m],U>>=m,k-=m,t=ot;case ot:for(D=_-h;D<0;)D+=a.end;for(;s!==0;){if(A===0&&(_==a.end&&a.read!==0&&(_=0,A=_<a.read?a.read-_-1:a.end-_),A===0&&(a.write=_,d=a.inflate_flush(l,d),_=a.write,A=_<a.read?a.read-_-1:a.end-_,_==a.end&&a.read!==0&&(_=0,A=_<a.read?a.read-_-1:a.end-_),A===0)))return a.bitb=U,a.bitk=k,l.avail_in=g,l.total_in+=v-l.next_in_index,l.next_in_index=v,a.write=_,a.inflate_flush(l,d);a.win[_++]=a.win[D++],A--,D==a.end&&(D=0),s--}t=me;break;case lt:if(A===0&&(_==a.end&&a.read!==0&&(_=0,A=_<a.read?a.read-_-1:a.end-_),A===0&&(a.write=_,d=a.inflate_flush(l,d),_=a.write,A=_<a.read?a.read-_-1:a.end-_,_==a.end&&a.read!==0&&(_=0,A=_<a.read?a.read-_-1:a.end-_),A===0)))return a.bitb=U,a.bitk=k,l.avail_in=g,l.total_in+=v-l.next_in_index,l.next_in_index=v,a.write=_,a.inflate_flush(l,d);d=0,a.win[_++]=f,A--,t=me;break;case Me:if(k>7&&(k-=8,g++,v--),a.write=_,d=a.inflate_flush(l,d),_=a.write,A=_<a.read?a.read-_-1:a.end-_,a.read!=a.write)return a.bitb=U,a.bitk=k,l.avail_in=g,l.total_in+=v-l.next_in_index,l.next_in_index=v,a.write=_,a.inflate_flush(l,d);t=ct;case ct:return d=1,a.bitb=U,a.bitk=k,l.avail_in=g,l.total_in+=v-l.next_in_index,l.next_in_index=v,a.write=_,a.inflate_flush(l,d);case xe:return d=-3,a.bitb=U,a.bitk=k,l.avail_in=g,l.total_in+=v-l.next_in_index,l.next_in_index=v,a.write=_,a.inflate_flush(l,d);default:return d=-2,a.bitb=U,a.bitk=k,l.avail_in=g,l.total_in+=v-l.next_in_index,l.next_in_index=v,a.write=_,a.inflate_flush(l,d)}},n.free=function(){}}const dt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],oe=0,Le=1,ft=2,ut=3,_t=4,wt=5,ke=6,ve=7,ht=8,ie=9;function On(n,t){const e=this;let i,r=oe,s=0,o=0,u=0;const f=[0],w=[0],h=new Fn;let p=0,S=new Int32Array(3*nt);const z=new Ce;e.bitk=0,e.bitb=0,e.win=new Uint8Array(t),e.end=t,e.read=0,e.write=0,e.reset=function(c,b){b&&(b[0]=0),r==ke&&h.free(c),r=oe,e.bitk=0,e.bitb=0,e.read=e.write=0},e.reset(n,null),e.inflate_flush=function(c,b){let a,l,d;return l=c.next_out_index,d=e.read,a=(d<=e.write?e.write:e.end)-d,a>c.avail_out&&(a=c.avail_out),a!==0&&b==-5&&(b=0),c.avail_out-=a,c.total_out+=a,c.next_out.set(e.win.subarray(d,d+a),l),l+=a,d+=a,d==e.end&&(d=0,e.write==e.end&&(e.write=0),a=e.write-d,a>c.avail_out&&(a=c.avail_out),a!==0&&b==-5&&(b=0),c.avail_out-=a,c.total_out+=a,c.next_out.set(e.win.subarray(d,d+a),l),l+=a,d+=a),c.next_out_index=l,e.read=d,b},e.proc=function(c,b){let a,l,d,m,y,x,g,_;for(m=c.next_in_index,y=c.avail_in,l=e.bitb,d=e.bitk,x=e.write,g=x<e.read?e.read-x-1:e.end-x;;){let A,D,U,k,v,F,T,j;switch(r){case oe:for(;d<3;){if(y===0)return e.bitb=l,e.bitk=d,c.avail_in=y,c.total_in+=m-c.next_in_index,c.next_in_index=m,e.write=x,e.inflate_flush(c,b);b=0,y--,l|=(255&c.read_byte(m++))<<d,d+=8}switch(a=7&l,p=1&a,a>>>1){case 0:l>>>=3,d-=3,a=7&d,l>>>=a,d-=a,r=Le;break;case 1:A=[],D=[],U=[[]],k=[[]],Ce.inflate_trees_fixed(A,D,U,k),h.init(A[0],D[0],U[0],0,k[0],0),l>>>=3,d-=3,r=ke;break;case 2:l>>>=3,d-=3,r=ut;break;case 3:return l>>>=3,d-=3,r=ie,c.msg="invalid block type",b=-3,e.bitb=l,e.bitk=d,c.avail_in=y,c.total_in+=m-c.next_in_index,c.next_in_index=m,e.write=x,e.inflate_flush(c,b)}break;case Le:for(;d<32;){if(y===0)return e.bitb=l,e.bitk=d,c.avail_in=y,c.total_in+=m-c.next_in_index,c.next_in_index=m,e.write=x,e.inflate_flush(c,b);b=0,y--,l|=(255&c.read_byte(m++))<<d,d+=8}if((~l>>>16&65535)!=(65535&l))return r=ie,c.msg="invalid stored block lengths",b=-3,e.bitb=l,e.bitk=d,c.avail_in=y,c.total_in+=m-c.next_in_index,c.next_in_index=m,e.write=x,e.inflate_flush(c,b);s=65535&l,l=d=0,r=s!==0?ft:p!==0?ve:oe;break;case ft:if(y===0||g===0&&(x==e.end&&e.read!==0&&(x=0,g=x<e.read?e.read-x-1:e.end-x),g===0&&(e.write=x,b=e.inflate_flush(c,b),x=e.write,g=x<e.read?e.read-x-1:e.end-x,x==e.end&&e.read!==0&&(x=0,g=x<e.read?e.read-x-1:e.end-x),g===0)))return e.bitb=l,e.bitk=d,c.avail_in=y,c.total_in+=m-c.next_in_index,c.next_in_index=m,e.write=x,e.inflate_flush(c,b);if(b=0,a=s,a>y&&(a=y),a>g&&(a=g),e.win.set(c.read_buf(m,a),x),m+=a,y-=a,x+=a,g-=a,(s-=a)!=0)break;r=p!==0?ve:oe;break;case ut:for(;d<14;){if(y===0)return e.bitb=l,e.bitk=d,c.avail_in=y,c.total_in+=m-c.next_in_index,c.next_in_index=m,e.write=x,e.inflate_flush(c,b);b=0,y--,l|=(255&c.read_byte(m++))<<d,d+=8}if(o=a=16383&l,(31&a)>29||(a>>5&31)>29)return r=ie,c.msg="too many length or distance symbols",b=-3,e.bitb=l,e.bitk=d,c.avail_in=y,c.total_in+=m-c.next_in_index,c.next_in_index=m,e.write=x,e.inflate_flush(c,b);if(a=258+(31&a)+(a>>5&31),!i||i.length<a)i=[];else for(_=0;_<a;_++)i[_]=0;l>>>=14,d-=14,u=0,r=_t;case _t:for(;u<4+(o>>>10);){for(;d<3;){if(y===0)return e.bitb=l,e.bitk=d,c.avail_in=y,c.total_in+=m-c.next_in_index,c.next_in_index=m,e.write=x,e.inflate_flush(c,b);b=0,y--,l|=(255&c.read_byte(m++))<<d,d+=8}i[dt[u++]]=7&l,l>>>=3,d-=3}for(;u<19;)i[dt[u++]]=0;if(f[0]=7,a=z.inflate_trees_bits(i,f,w,S,c),a!=0)return(b=a)==-3&&(i=null,r=ie),e.bitb=l,e.bitk=d,c.avail_in=y,c.total_in+=m-c.next_in_index,c.next_in_index=m,e.write=x,e.inflate_flush(c,b);u=0,r=wt;case wt:for(;a=o,!(u>=258+(31&a)+(a>>5&31));){let E,W;for(a=f[0];d<a;){if(y===0)return e.bitb=l,e.bitk=d,c.avail_in=y,c.total_in+=m-c.next_in_index,c.next_in_index=m,e.write=x,e.inflate_flush(c,b);b=0,y--,l|=(255&c.read_byte(m++))<<d,d+=8}if(a=S[3*(w[0]+(l&K[a]))+1],W=S[3*(w[0]+(l&K[a]))+2],W<16)l>>>=a,d-=a,i[u++]=W;else{for(_=W==18?7:W-14,E=W==18?11:3;d<a+_;){if(y===0)return e.bitb=l,e.bitk=d,c.avail_in=y,c.total_in+=m-c.next_in_index,c.next_in_index=m,e.write=x,e.inflate_flush(c,b);b=0,y--,l|=(255&c.read_byte(m++))<<d,d+=8}if(l>>>=a,d-=a,E+=l&K[_],l>>>=_,d-=_,_=u,a=o,_+E>258+(31&a)+(a>>5&31)||W==16&&_<1)return i=null,r=ie,c.msg="invalid bit length repeat",b=-3,e.bitb=l,e.bitk=d,c.avail_in=y,c.total_in+=m-c.next_in_index,c.next_in_index=m,e.write=x,e.inflate_flush(c,b);W=W==16?i[_-1]:0;do i[_++]=W;while(--E!=0);u=_}}if(w[0]=-1,v=[],F=[],T=[],j=[],v[0]=9,F[0]=6,a=o,a=z.inflate_trees_dynamic(257+(31&a),1+(a>>5&31),i,v,F,T,j,S,c),a!=0)return a==-3&&(i=null,r=ie),b=a,e.bitb=l,e.bitk=d,c.avail_in=y,c.total_in+=m-c.next_in_index,c.next_in_index=m,e.write=x,e.inflate_flush(c,b);h.init(v[0],F[0],S,T[0],S,j[0]),r=ke;case ke:if(e.bitb=l,e.bitk=d,c.avail_in=y,c.total_in+=m-c.next_in_index,c.next_in_index=m,e.write=x,(b=h.proc(e,c,b))!=1)return e.inflate_flush(c,b);if(b=0,h.free(c),m=c.next_in_index,y=c.avail_in,l=e.bitb,d=e.bitk,x=e.write,g=x<e.read?e.read-x-1:e.end-x,p===0){r=oe;break}r=ve;case ve:if(e.write=x,b=e.inflate_flush(c,b),x=e.write,g=x<e.read?e.read-x-1:e.end-x,e.read!=e.write)return e.bitb=l,e.bitk=d,c.avail_in=y,c.total_in+=m-c.next_in_index,c.next_in_index=m,e.write=x,e.inflate_flush(c,b);r=ht;case ht:return b=1,e.bitb=l,e.bitk=d,c.avail_in=y,c.total_in+=m-c.next_in_index,c.next_in_index=m,e.write=x,e.inflate_flush(c,b);case ie:return b=-3,e.bitb=l,e.bitk=d,c.avail_in=y,c.total_in+=m-c.next_in_index,c.next_in_index=m,e.write=x,e.inflate_flush(c,b);default:return b=-2,e.bitb=l,e.bitk=d,c.avail_in=y,c.total_in+=m-c.next_in_index,c.next_in_index=m,e.write=x,e.inflate_flush(c,b)}}},e.free=function(c){e.reset(c,null),e.win=null,S=null},e.set_dictionary=function(c,b,a){e.win.set(c.subarray(b,b+a),0),e.read=e.write=a},e.sync_point=function(){return r==Le?1:0}}const $=13,Wn=[0,0,255,255];function Tn(){const n=this;function t(e){return e&&e.istate?(e.total_in=e.total_out=0,e.msg=null,e.istate.mode=7,e.istate.blocks.reset(e,null),0):-2}n.mode=0,n.method=0,n.was=[0],n.need=0,n.marker=0,n.wbits=0,n.inflateEnd=function(e){return n.blocks&&n.blocks.free(e),n.blocks=null,0},n.inflateInit=function(e,i){return e.msg=null,n.blocks=null,i<8||i>15?(n.inflateEnd(e),-2):(n.wbits=i,e.istate.blocks=new On(e,1<<i),t(e),0)},n.inflate=function(e,i){let r,s;if(!e||!e.istate||!e.next_in)return-2;const o=e.istate;for(i=i==4?-5:0,r=-5;;)switch(o.mode){case 0:if(e.avail_in===0)return r;if(r=i,e.avail_in--,e.total_in++,(15&(o.method=e.read_byte(e.next_in_index++)))!=8){o.mode=$,e.msg="unknown compression method",o.marker=5;break}if(8+(o.method>>4)>o.wbits){o.mode=$,e.msg="invalid win size",o.marker=5;break}o.mode=1;case 1:if(e.avail_in===0)return r;if(r=i,e.avail_in--,e.total_in++,s=255&e.read_byte(e.next_in_index++),((o.method<<8)+s)%31!=0){o.mode=$,e.msg="incorrect header check",o.marker=5;break}if(!(32&s)){o.mode=7;break}o.mode=2;case 2:if(e.avail_in===0)return r;r=i,e.avail_in--,e.total_in++,o.need=(255&e.read_byte(e.next_in_index++))<<24&4278190080,o.mode=3;case 3:if(e.avail_in===0)return r;r=i,e.avail_in--,e.total_in++,o.need+=(255&e.read_byte(e.next_in_index++))<<16&16711680,o.mode=4;case 4:if(e.avail_in===0)return r;r=i,e.avail_in--,e.total_in++,o.need+=(255&e.read_byte(e.next_in_index++))<<8&65280,o.mode=5;case 5:return e.avail_in===0?r:(r=i,e.avail_in--,e.total_in++,o.need+=255&e.read_byte(e.next_in_index++),o.mode=6,2);case 6:return o.mode=$,e.msg="need dictionary",o.marker=0,-2;case 7:if(r=o.blocks.proc(e,r),r==-3){o.mode=$,o.marker=0;break}if(r==0&&(r=i),r!=1)return r;r=i,o.blocks.reset(e,o.was),o.mode=12;case 12:return e.avail_in=0,1;case $:return-3;default:return-2}},n.inflateSetDictionary=function(e,i,r){let s=0,o=r;if(!e||!e.istate||e.istate.mode!=6)return-2;const u=e.istate;return o>=1<<u.wbits&&(o=(1<<u.wbits)-1,s=r-o),u.blocks.set_dictionary(i,s,o),u.mode=7,0},n.inflateSync=function(e){let i,r,s,o,u;if(!e||!e.istate)return-2;const f=e.istate;if(f.mode!=$&&(f.mode=$,f.marker=0),(i=e.avail_in)===0)return-5;for(r=e.next_in_index,s=f.marker;i!==0&&s<4;)e.read_byte(r)==Wn[s]?s++:s=e.read_byte(r)!==0?0:4-s,r++,i--;return e.total_in+=r-e.next_in_index,e.next_in_index=r,e.avail_in=i,f.marker=s,s!=4?-3:(o=e.total_in,u=e.total_out,t(e),e.total_in=o,e.total_out=u,f.mode=7,0)},n.inflateSyncPoint=function(e){return e&&e.istate&&e.istate.blocks?e.istate.blocks.sync_point():-2}}function bt(){}bt.prototype={inflateInit(n){const t=this;return t.istate=new Tn,n||(n=15),t.istate.inflateInit(t,n)},inflate(n){const t=this;return t.istate?t.istate.inflate(t,n):-2},inflateEnd(){const n=this;if(!n.istate)return-2;const t=n.istate.inflateEnd(n);return n.istate=null,t},inflateSync(){const n=this;return n.istate?n.istate.inflateSync(n):-2},inflateSetDictionary(n,t){const e=this;return e.istate?e.istate.inflateSetDictionary(e,n,t):-2},read_byte(n){return this.next_in[n]},read_buf(n,t){return this.next_in.subarray(n,n+t)}};const re=4294967295,ae=65535,pt=33639248,gt=101075792,jn=1,J=void 0,Se="undefined",yt="function";class mt{constructor(t){return class extends TransformStream{constructor(e,i){const r=new t(i);super({transform(s,o){o.enqueue(r.append(s))},flush(s){const o=r.flush();o&&s.enqueue(o)}})}}}}let xt=2;try{typeof navigator!=Se&&navigator.hardwareConcurrency&&(xt=navigator.hardwareConcurrency)}catch{}const Cn={chunkSize:524288,maxWorkers:xt,terminateWorkerTimeout:5e3,useWebWorkers:!0,useCompressionStream:!0,workerScripts:J,CompressionStreamNative:typeof CompressionStream!=Se&&CompressionStream,DecompressionStreamNative:typeof DecompressionStream!=Se&&DecompressionStream},ee=Object.assign({},Cn);function kt(n){const{baseURL:t,chunkSize:e,maxWorkers:i,terminateWorkerTimeout:r,useCompressionStream:s,useWebWorkers:o,Deflate:u,Inflate:f,CompressionStream:w,DecompressionStream:h,workerScripts:p}=n;if(te("baseURL",t),te("chunkSize",e),te("maxWorkers",i),te("terminateWorkerTimeout",r),te("useCompressionStream",s),te("useWebWorkers",o),u&&(ee.CompressionStream=new mt(u)),f&&(ee.DecompressionStream=new mt(f)),te("CompressionStream",w),te("DecompressionStream",h),p!==J){const{deflate:S,inflate:z}=p;if((S||z)&&(ee.workerScripts||(ee.workerScripts={})),S){if(!Array.isArray(S))throw new Error("workerScripts.deflate must be an array");ee.workerScripts.deflate=S}if(z){if(!Array.isArray(z))throw new Error("workerScripts.inflate must be an array");ee.workerScripts.inflate=z}}}function te(n,t){t!==J&&(ee[n]=t)}const vt=[];for(let n=0;n<256;n++){let t=n;for(let e=0;e<8;e++)1&t?t=t>>>1^3988292384:t>>>=1;vt[n]=t}class ze{constructor(t){this.crc=t||-1}append(t){let e=0|this.crc;for(let i=0,r=0|t.length;i<r;i++)e=e>>>8^vt[255&(e^t[i])];this.crc=e}get(){return~this.crc}}class St extends TransformStream{constructor(){let t;const e=new ze;super({transform(i,r){e.append(i),r.enqueue(i)},flush(){const i=new Uint8Array(4);new DataView(i.buffer).setUint32(0,e.get()),t.value=i}}),t=this}}const N={concat(n,t){if(n.length===0||t.length===0)return n.concat(t);const e=n[n.length-1],i=N.getPartial(e);return i===32?n.concat(t):N._shiftRight(t,i,0|e,n.slice(0,n.length-1))},bitLength(n){const t=n.length;if(t===0)return 0;const e=n[t-1];return 32*(t-1)+N.getPartial(e)},clamp(n,t){if(32*n.length<t)return n;const e=(n=n.slice(0,Math.ceil(t/32))).length;return t&=31,e>0&&t&&(n[e-1]=N.partial(t,n[e-1]&2147483648>>t-1,1)),n},partial:(n,t,e)=>n===32?t:(e?0|t:t<<32-n)+1099511627776*n,getPartial:n=>Math.round(n/1099511627776)||32,_shiftRight(n,t,e,i){for(i===void 0&&(i=[]);t>=32;t-=32)i.push(e),e=0;if(t===0)return i.concat(n);for(let o=0;o<n.length;o++)i.push(e|n[o]>>>t),e=n[o]<<32-t;const r=n.length?n[n.length-1]:0,s=N.getPartial(r);return i.push(N.partial(t+s&31,t+s>32?e:i.pop(),1)),i}},Ae={bytes:{fromBits(n){const t=N.bitLength(n)/8,e=new Uint8Array(t);let i;for(let r=0;r<t;r++)!(3&r)&&(i=n[r/4]),e[r]=i>>>24,i<<=8;return e},toBits(n){const t=[];let e,i=0;for(e=0;e<n.length;e++)i=i<<8|n[e],(3&e)==3&&(t.push(i),i=0);return 3&e&&t.push(N.partial(8*(3&e),i)),t}}},Mn={sha1:class{constructor(n){const t=this;t.blockSize=512,t._init=[1732584193,4023233417,2562383102,271733878,3285377520],t._key=[1518500249,1859775393,2400959708,3395469782],n?(t._h=n._h.slice(0),t._buffer=n._buffer.slice(0),t._length=n._length):t.reset()}reset(){const n=this;return n._h=n._init.slice(0),n._buffer=[],n._length=0,n}update(n){const t=this;typeof n=="string"&&(n=Ae.utf8String.toBits(n));const e=t._buffer=N.concat(t._buffer,n),i=t._length,r=t._length=i+N.bitLength(n);if(r>9007199254740991)throw new Error("Cannot hash more than 2^53 - 1 bits");const s=new Uint32Array(e);let o=0;for(let u=t.blockSize+i-(t.blockSize+i&t.blockSize-1);u<=r;u+=t.blockSize)t._block(s.subarray(16*o,16*(o+1))),o+=1;return e.splice(0,16*o),t}finalize(){const n=this;let t=n._buffer;const e=n._h;t=N.concat(t,[N.partial(1,1)]);for(let i=t.length+2;15&i;i++)t.push(0);for(t.push(Math.floor(n._length/4294967296)),t.push(0|n._length);t.length;)n._block(t.splice(0,16));return n.reset(),e}_f(n,t,e,i){return n<=19?t&e|~t&i:n<=39?t^e^i:n<=59?t&e|t&i|e&i:n<=79?t^e^i:void 0}_S(n,t){return t<<n|t>>>32-n}_block(n){const t=this,e=t._h,i=Array(80);for(let w=0;w<16;w++)i[w]=n[w];let r=e[0],s=e[1],o=e[2],u=e[3],f=e[4];for(let w=0;w<=79;w++){w>=16&&(i[w]=t._S(1,i[w-3]^i[w-8]^i[w-14]^i[w-16]));const h=t._S(5,r)+t._f(w,s,o,u)+f+i[w]+t._key[Math.floor(w/20)]|0;f=u,u=o,o=t._S(30,s),s=r,r=h}e[0]=e[0]+r|0,e[1]=e[1]+s|0,e[2]=e[2]+o|0,e[3]=e[3]+u|0,e[4]=e[4]+f|0}}},Ln={aes:class{constructor(n){const t=this;t._tables=[[[],[],[],[],[]],[[],[],[],[],[]]],t._tables[0][0][0]||t._precompute();const e=t._tables[0][4],i=t._tables[1],r=n.length;let s,o,u,f=1;if(r!==4&&r!==6&&r!==8)throw new Error("invalid aes key size");for(t._key=[o=n.slice(0),u=[]],s=r;s<4*r+28;s++){let w=o[s-1];(s%r==0||r===8&&s%r==4)&&(w=e[w>>>24]<<24^e[w>>16&255]<<16^e[w>>8&255]<<8^e[255&w],s%r==0&&(w=w<<8^w>>>24^f<<24,f=f<<1^283*(f>>7))),o[s]=o[s-r]^w}for(let w=0;s;w++,s--){const h=o[3&w?s:s-4];u[w]=s<=4||w<4?h:i[0][e[h>>>24]]^i[1][e[h>>16&255]]^i[2][e[h>>8&255]]^i[3][e[255&h]]}}encrypt(n){return this._crypt(n,0)}decrypt(n){return this._crypt(n,1)}_precompute(){const n=this._tables[0],t=this._tables[1],e=n[4],i=t[4],r=[],s=[];let o,u,f,w;for(let h=0;h<256;h++)s[(r[h]=h<<1^283*(h>>7))^h]=h;for(let h=o=0;!e[h];h^=u||1,o=s[o]||1){let p=o^o<<1^o<<2^o<<3^o<<4;p=p>>8^255&p^99,e[h]=p,i[p]=h,w=r[f=r[u=r[h]]];let S=16843009*w^65537*f^257*u^16843008*h,z=257*r[p]^16843008*p;for(let c=0;c<4;c++)n[c][h]=z=z<<24^z>>>8,t[c][p]=S=S<<24^S>>>8}for(let h=0;h<5;h++)n[h]=n[h].slice(0),t[h]=t[h].slice(0)}_crypt(n,t){if(n.length!==4)throw new Error("invalid aes block size");const e=this._key[t],i=e.length/4-2,r=[0,0,0,0],s=this._tables[t],o=s[0],u=s[1],f=s[2],w=s[3],h=s[4];let p,S,z,c=n[0]^e[0],b=n[t?3:1]^e[1],a=n[2]^e[2],l=n[t?1:3]^e[3],d=4;for(let m=0;m<i;m++)p=o[c>>>24]^u[b>>16&255]^f[a>>8&255]^w[255&l]^e[d],S=o[b>>>24]^u[a>>16&255]^f[l>>8&255]^w[255&c]^e[d+1],z=o[a>>>24]^u[l>>16&255]^f[c>>8&255]^w[255&b]^e[d+2],l=o[l>>>24]^u[c>>16&255]^f[b>>8&255]^w[255&a]^e[d+3],d+=4,c=p,b=S,a=z;for(let m=0;m<4;m++)r[t?3&-m:m]=h[c>>>24]<<24^h[b>>16&255]<<16^h[a>>8&255]<<8^h[255&l]^e[d++],p=c,c=b,b=a,a=l,l=p;return r}}},Rn={getRandomValues(n){const t=new Uint32Array(n.buffer),e=i=>{let r=987654321;const s=4294967295;return function(){return r=36969*(65535&r)+(r>>16)&s,(((r<<16)+(i=18e3*(65535&i)+(i>>16)&s)&s)/4294967296+.5)*(Math.random()>.5?1:-1)}};for(let i,r=0;r<n.length;r+=4){const s=e(4294967296*(i||Math.random()));i=987654071*s(),t[r/4]=4294967296*s()|0}return n}},Pn={ctrGladman:class{constructor(n,t){this._prf=n,this._initIv=t,this._iv=t}reset(){this._iv=this._initIv}update(n){return this.calculate(this._prf,n,this._iv)}incWord(n){if((n>>24&255)==255){let t=n>>16&255,e=n>>8&255,i=255&n;t===255?(t=0,e===255?(e=0,i===255?i=0:++i):++e):++t,n=0,n+=t<<16,n+=e<<8,n+=i}else n+=1<<24;return n}incCounter(n){(n[0]=this.incWord(n[0]))===0&&(n[1]=this.incWord(n[1]))}calculate(n,t,e){let i;if(!(i=t.length))return[];const r=N.bitLength(t);for(let s=0;s<i;s+=4){this.incCounter(e);const o=n.encrypt(e);t[s]^=o[0],t[s+1]^=o[1],t[s+2]^=o[2],t[s+3]^=o[3]}return N.clamp(t,r)}}},le={importKey:n=>new le.hmacSha1(Ae.bytes.toBits(n)),pbkdf2(n,t,e,i){if(e=e||1e4,i<0||e<0)throw new Error("invalid params to pbkdf2");const r=1+(i>>5)<<2;let s,o,u,f,w;const h=new ArrayBuffer(r),p=new DataView(h);let S=0;const z=N;for(t=Ae.bytes.toBits(t),w=1;S<(r||1);w++){for(s=o=n.encrypt(z.concat(t,[w])),u=1;u<e;u++)for(o=n.encrypt(o),f=0;f<o.length;f++)s[f]^=o[f];for(u=0;S<(r||1)&&u<s.length;u++)p.setInt32(S,s[u]),S+=4}return h.slice(0,i/8)},hmacSha1:class{constructor(n){const t=this,e=t._hash=Mn.sha1,i=[[],[]];t._baseHash=[new e,new e];const r=t._baseHash[0].blockSize/32;n.length>r&&(n=new e().update(n).finalize());for(let s=0;s<r;s++)i[0][s]=909522486^n[s],i[1][s]=1549556828^n[s];t._baseHash[0].update(i[0]),t._baseHash[1].update(i[1]),t._resultHash=new e(t._baseHash[0])}reset(){const n=this;n._resultHash=new n._hash(n._baseHash[0]),n._updated=!1}update(n){this._updated=!0,this._resultHash.update(n)}digest(){const n=this,t=n._resultHash.finalize(),e=new n._hash(n._baseHash[1]).update(t).finalize();return n.reset(),e}encrypt(n){if(this._updated)throw new Error("encrypt on already updated hmac called!");return this.update(n),this.digest(n)}}},Bn=typeof crypto<"u"&&typeof crypto.getRandomValues=="function",zt="Invalid password",At="Invalid signature",Re="zipjs-abort-check-password";function Ut(n){return Bn?crypto.getRandomValues(n):Rn.getRandomValues(n)}const ce=16,In="raw",Et={name:"PBKDF2"},Nn=Object.assign({hash:{name:"HMAC"}},Et),Pe=Object.assign({iterations:1e3,hash:{name:"SHA-1"}},Et),Vn=["deriveBits"],_e=[8,12,16],we=[16,24,32],ne=10,qn=[0,0,0,0],Dt="undefined",Ft="function",Ue=typeof crypto!=Dt,he=Ue&&crypto.subtle,Ot=Ue&&typeof he!=Dt,Q=Ae.bytes,Kn=Ln.aes,Hn=Pn.ctrGladman,Zn=le.hmacSha1;let Wt=Ue&&Ot&&typeof he.importKey==Ft,Tt=Ue&&Ot&&typeof he.deriveBits==Ft;class Gn extends TransformStream{constructor({password:t,signed:e,encryptionStrength:i,checkPasswordOnly:r}){super({start(){Object.assign(this,{ready:new Promise(s=>this.resolveReady=s),password:t,signed:e,strength:i-1,pending:new Uint8Array})},async transform(s,o){const u=this,{password:f,strength:w,resolveReady:h,ready:p}=u;f?(await async function(z,c,b,a){const l=await Ct(z,c,b,Z(a,0,_e[c])),d=Z(a,_e[c]);if(l[0]!=d[0]||l[1]!=d[1])throw new Error(zt)}(u,w,f,Z(s,0,_e[w]+2)),s=Z(s,_e[w]+2),r?o.error(new Error(Re)):h()):await p;const S=new Uint8Array(s.length-ne-(s.length-ne)%ce);o.enqueue(jt(u,s,S,0,ne,!0))},async flush(s){const{signed:o,ctr:u,hmac:f,pending:w,ready:h}=this;if(f&&u){await h;const p=Z(w,0,w.length-ne),S=Z(w,w.length-ne);let z=new Uint8Array;if(p.length){const c=pe(Q,p);f.update(c);const b=u.update(c);z=be(Q,b)}if(o){const c=Z(be(Q,f.digest()),0,ne);for(let b=0;b<ne;b++)if(c[b]!=S[b])throw new Error(At)}s.enqueue(z)}}})}}class Jn extends TransformStream{constructor({password:t,encryptionStrength:e}){let i;super({start(){Object.assign(this,{ready:new Promise(r=>this.resolveReady=r),password:t,strength:e-1,pending:new Uint8Array})},async transform(r,s){const o=this,{password:u,strength:f,resolveReady:w,ready:h}=o;let p=new Uint8Array;u?(p=await async function(z,c,b){const a=Ut(new Uint8Array(_e[c])),l=await Ct(z,c,b,a);return Be(a,l)}(o,f,u),w()):await h;const S=new Uint8Array(p.length+r.length-r.length%ce);S.set(p,0),s.enqueue(jt(o,r,S,p.length,0))},async flush(r){const{ctr:s,hmac:o,pending:u,ready:f}=this;if(o&&s){await f;let w=new Uint8Array;if(u.length){const h=s.update(pe(Q,u));o.update(h),w=be(Q,h)}i.signature=be(Q,o.digest()).slice(0,ne),r.enqueue(Be(w,i.signature))}}}),i=this}}function jt(n,t,e,i,r,s){const{ctr:o,hmac:u,pending:f}=n,w=t.length-r;let h;for(f.length&&(t=Be(f,t),e=function(p,S){if(S&&S>p.length){const z=p;(p=new Uint8Array(S)).set(z,0)}return p}(e,w-w%ce)),h=0;h<=w-ce;h+=ce){const p=pe(Q,Z(t,h,h+ce));s&&u.update(p);const S=o.update(p);s||u.update(S),e.set(be(Q,S),h+i)}return n.pending=Z(t,h),e}async function Ct(n,t,e,i){n.password=null;const r=function(p){if(typeof TextEncoder>"u"){p=unescape(encodeURIComponent(p));const S=new Uint8Array(p.length);for(let z=0;z<S.length;z++)S[z]=p.charCodeAt(z);return S}return new TextEncoder().encode(p)}(e),s=await async function(p,S,z,c,b){if(!Wt)return le.importKey(S);try{return await he.importKey(p,S,z,c,b)}catch{return Wt=!1,le.importKey(S)}}(In,r,Nn,!1,Vn),o=await async function(p,S,z){if(!Tt)return le.pbkdf2(S,p.salt,Pe.iterations,z);try{return await he.deriveBits(p,S,z)}catch{return Tt=!1,le.pbkdf2(S,p.salt,Pe.iterations,z)}}(Object.assign({salt:i},Pe),s,8*(2*we[t]+2)),u=new Uint8Array(o),f=pe(Q,Z(u,0,we[t])),w=pe(Q,Z(u,we[t],2*we[t])),h=Z(u,2*we[t]);return Object.assign(n,{keys:{key:f,authentication:w,passwordVerification:h},ctr:new Hn(new Kn(f),Array.from(qn)),hmac:new Zn(w)}),h}function Be(n,t){let e=n;return n.length+t.length&&(e=new Uint8Array(n.length+t.length),e.set(n,0),e.set(t,n.length)),e}function Z(n,t,e){return n.subarray(t,e)}function be(n,t){return n.fromBits(t)}function pe(n,t){return n.toBits(t)}const Ee=12;class Qn extends TransformStream{constructor({password:t,passwordVerification:e,checkPasswordOnly:i}){super({start(){Object.assign(this,{password:t,passwordVerification:e}),Rt(this,t)},transform(r,s){const o=this;if(o.password){const u=Mt(o,r.subarray(0,Ee));if(o.password=null,u[11]!=o.passwordVerification)throw new Error(zt);r=r.subarray(Ee)}i?s.error(new Error(Re)):s.enqueue(Mt(o,r))}})}}class Xn extends TransformStream{constructor({password:t,passwordVerification:e}){super({start(){Object.assign(this,{password:t,passwordVerification:e}),Rt(this,t)},transform(i,r){const s=this;let o,u;if(s.password){s.password=null;const f=Ut(new Uint8Array(Ee));f[11]=s.passwordVerification,o=new Uint8Array(i.length+f.length),o.set(Lt(s,f),0),u=Ee}else o=new Uint8Array(i.length),u=0;o.set(Lt(s,i),u),r.enqueue(o)}})}}function Mt(n,t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=Pt(n)^t[i],Ie(n,e[i]);return e}function Lt(n,t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=Pt(n)^t[i],Ie(n,t[i]);return e}function Rt(n,t){const e=[305419896,591751049,878082192];Object.assign(n,{keys:e,crcKey0:new ze(e[0]),crcKey2:new ze(e[2])});for(let i=0;i<t.length;i++)Ie(n,t.charCodeAt(i))}function Ie(n,t){let[e,i,r]=n.keys;n.crcKey0.append([t]),e=~n.crcKey0.get(),i=It(Math.imul(It(i+Bt(e)),134775813)+1),n.crcKey2.append([i>>>24]),r=~n.crcKey2.get(),n.keys=[e,i,r]}function Pt(n){const t=2|n.keys[2];return Bt(Math.imul(t,1^t)>>>8)}function Bt(n){return 255&n}function It(n){return 4294967295&n}const Nt="deflate-raw";class Yn extends TransformStream{constructor(t,{chunkSize:e,CompressionStream:i,CompressionStreamNative:r}){super({});const{compressed:s,encrypted:o,useCompressionStream:u,zipCrypto:f,signed:w,level:h}=t,p=this;let S,z,c=Vt(super.readable);o&&!f||!w||(S=new St,c=X(c,S)),s&&(c=Kt(c,u,{level:h,chunkSize:e},r,i)),o&&(f?c=X(c,new Xn(t)):(z=new Jn(t),c=X(c,z))),qt(p,c,()=>{let b;o&&!f&&(b=z.signature),o&&!f||!w||(b=new DataView(S.value.buffer).getUint32(0)),p.signature=b})}}class $n extends TransformStream{constructor(t,{chunkSize:e,DecompressionStream:i,DecompressionStreamNative:r}){super({});const{zipCrypto:s,encrypted:o,signed:u,signature:f,compressed:w,useCompressionStream:h}=t;let p,S,z=Vt(super.readable);o&&(s?z=X(z,new Qn(t)):(S=new Gn(t),z=X(z,S))),w&&(z=Kt(z,h,{chunkSize:e},r,i)),o&&!s||!u||(p=new St,z=X(z,p)),qt(this,z,()=>{if((!o||s)&&u){const c=new DataView(p.value.buffer);if(f!=c.getUint32(0,!1))throw new Error(At)}})}}function Vt(n){return X(n,new TransformStream({transform(t,e){t&&t.length&&e.enqueue(t)}}))}function qt(n,t,e){t=X(t,new TransformStream({flush:e})),Object.defineProperty(n,"readable",{get:()=>t})}function Kt(n,t,e,i,r){try{n=X(n,new(t&&i?i:r)(Nt,e))}catch(s){if(!t)throw s;n=X(n,new r(Nt,e))}return n}function X(n,t){return n.pipeThrough(t)}const ei="message",ti="start",ni="pull",Ht="data",ii="ack",ri="close",Zt="inflate";class ai extends TransformStream{constructor(t,e){super({});const i=this,{codecType:r}=t;let s;r.startsWith("deflate")?s=Yn:r.startsWith(Zt)&&(s=$n);let o=0;const u=new s(t,e),f=super.readable,w=new TransformStream({transform(h,p){h&&h.length&&(o+=h.length,p.enqueue(h))},flush(){const{signature:h}=u;Object.assign(i,{signature:h,size:o})}});Object.defineProperty(i,"readable",{get:()=>f.pipeThrough(u).pipeThrough(w)})}}const si=typeof Worker!=Se;class Ne{constructor(t,{readable:e,writable:i},{options:r,config:s,streamOptions:o,useWebWorkers:u,transferStreams:f,scripts:w},h){const{signal:p}=o;return Object.assign(t,{busy:!0,readable:e.pipeThrough(new oi(e,o,s),{signal:p}),writable:i,options:Object.assign({},r),scripts:w,transferStreams:f,terminate(){const{worker:S,busy:z}=t;S&&!z&&(S.terminate(),t.interface=null)},onTaskFinished(){t.busy=!1,h(t)}}),(u&&si?ci:li)(t,s)}}class oi extends TransformStream{constructor(t,{onstart:e,onprogress:i,size:r,onend:s},{chunkSize:o}){let u=0;super({start(){e&&Ve(e,r)},async transform(f,w){u+=f.length,i&&await Ve(i,u,r),w.enqueue(f)},flush(){t.size=u,s&&Ve(s,u)}},{highWaterMark:1,size:()=>o})}}async function Ve(n,...t){try{await n(...t)}catch{}}function li(n,t){return{run:()=>async function({options:e,readable:i,writable:r,onTaskFinished:s},o){const u=new ai(e,o);try{await i.pipeThrough(u).pipeTo(r,{preventClose:!0,preventAbort:!0});const{signature:f,size:w}=u;return{signature:f,size:w}}finally{s()}}(n,t)}}function ci(n,{baseURL:t,chunkSize:e}){return n.interface||Object.assign(n,{worker:di(n.scripts[0],t,n),interface:{run:()=>async function(i,r){let s,o;const u=new Promise((c,b)=>{s=c,o=b});Object.assign(i,{reader:null,writer:null,resolveResult:s,rejectResult:o,result:u});const{readable:f,options:w,scripts:h}=i,{writable:p,closed:S}=function(c){const b=c.getWriter();let a;const l=new Promise(d=>a=d);return{writable:new WritableStream({async write(d){await b.ready,await b.write(d)},close(){b.releaseLock(),a()},abort:d=>b.abort(d)}),closed:l}}(i.writable);qe({type:ti,scripts:h.slice(1),options:w,config:r,readable:f,writable:p},i)||Object.assign(i,{reader:f.getReader(),writer:p.getWriter()});const z=await u;try{await p.getWriter().close()}catch{}return await S,z}(n,{chunkSize:e})}}),n.interface}let Gt=!0,Jt=!0;function di(n,t,e){const i={type:"module"};let r,s;typeof n==yt&&(n=n());try{r=new URL(n,t)}catch{r=n}if(Gt)try{s=new Worker(r)}catch{Gt=!1,s=new Worker(r,i)}else s=new Worker(r,i);return s.addEventListener(ei,o=>async function({data:u},f){const{type:w,value:h,messageId:p,result:S,error:z}=u,{reader:c,writer:b,resolveResult:a,rejectResult:l,onTaskFinished:d}=f;try{if(z){const{message:y,stack:x,code:g,name:_}=z,A=new Error(y);Object.assign(A,{stack:x,code:g,name:_}),m(A)}else{if(w==ni){const{value:y,done:x}=await c.read();qe({type:Ht,value:y,done:x,messageId:p},f)}w==Ht&&(await b.ready,await b.write(new Uint8Array(h)),qe({type:ii,messageId:p},f)),w==ri&&m(null,S)}}catch(y){m(y)}function m(y,x){y?l(y):a(x),b&&b.releaseLock(),d()}}(o,e)),s}function qe(n,{worker:t,writer:e,onTaskFinished:i,transferStreams:r}){try{let{value:s,readable:o,writable:u}=n;const f=[];if(s&&(n.value=s.buffer,f.push(n.value)),r&&Jt?(o&&f.push(o),u&&f.push(u)):n.readable=n.writable=null,f.length)try{return t.postMessage(n,f),!0}catch{Jt=!1,n.readable=n.writable=null,t.postMessage(n)}else t.postMessage(n)}catch(s){throw e&&e.releaseLock(),i(),s}}let se=[];const Ke=[];let Qt=0;function Xt(n){const{terminateTimeout:t}=n;t&&(clearTimeout(t),n.terminateTimeout=null)}const fi=65536,Yt="writable";class He{constructor(){this.size=0}init(){this.initialized=!0}}class $t extends He{get readable(){const t=this,{chunkSize:e=fi}=t,i=new ReadableStream({start(){this.chunkOffset=0},async pull(r){const{offset:s=0,size:o,diskNumberStart:u}=i,{chunkOffset:f}=this;r.enqueue(await I(t,s+f,Math.min(e,o-f),u)),f+e>o?r.close():this.chunkOffset+=e}});return i}}class en extends $t{constructor(t){super(),Object.assign(this,{blob:t,size:t.size})}async readUint8Array(t,e){const i=this,r=t+e;let s=await(t||r<i.size?i.blob.slice(t,r):i.blob).arrayBuffer();return s.byteLength>e&&(s=s.slice(t,r)),new Uint8Array(s)}}class tn extends He{constructor(t){super();const e=new TransformStream,i=[];t&&i.push(["Content-Type",t]),Object.defineProperty(this,Yt,{get:()=>e.writable}),this.blob=new Response(e.readable,{headers:i}).blob()}getData(){return this.blob}}class ui extends tn{constructor(t){super(t),Object.assign(this,{encoding:t,utf8:!t||t.toLowerCase()=="utf-8"})}async getData(){const{encoding:t,utf8:e}=this,i=await super.getData();if(i.text&&e)return i.text();{const r=new FileReader;return new Promise((s,o)=>{Object.assign(r,{onload:({target:u})=>s(u.result),onerror:()=>o(r.error)}),r.readAsText(i,t)})}}}class _i extends $t{constructor(t){super(),this.readers=t}async init(){const t=this,{readers:e}=t;t.lastDiskNumber=0,t.lastDiskOffset=0,await Promise.all(e.map(async(i,r)=>{await i.init(),r!=e.length-1&&(t.lastDiskOffset+=i.size),t.size+=i.size})),super.init()}async readUint8Array(t,e,i=0){const r=this,{readers:s}=this;let o,u=i;u==-1&&(u=s.length-1);let f=t;for(;f>=s[u].size;)f-=s[u].size,u++;const w=s[u],h=w.size;if(f+e<=h)o=await I(w,f,e);else{const p=h-f;o=new Uint8Array(e),o.set(await I(w,f,p)),o.set(await r.readUint8Array(t+p,e-p,i),p)}return r.lastDiskNumber=Math.max(u,r.lastDiskNumber),o}}class nn extends He{constructor(t,e=4294967295){super();const i=this;let r,s,o;Object.assign(i,{diskNumber:0,diskOffset:0,size:0,maxSize:e,availableSize:e});const u=new WritableStream({async write(h){const{availableSize:p}=i;if(o)h.length>=p?(await f(h.slice(0,p)),await w(),i.diskOffset+=r.size,i.diskNumber++,o=null,await this.write(h.slice(p))):await f(h);else{const{value:S,done:z}=await t.next();if(z&&!S)throw new Error("Writer iterator completed too soon");r=S,r.size=0,r.maxSize&&(i.maxSize=r.maxSize),i.availableSize=i.maxSize,await De(r),s=S.writable,o=s.getWriter(),await this.write(h)}},async close(){await o.ready,await w()}});async function f(h){const p=h.length;p&&(await o.ready,await o.write(h),r.size+=p,i.size+=p,i.availableSize-=p)}async function w(){s.size=r.size,await o.close()}Object.defineProperty(i,Yt,{get:()=>u})}}async function De(n,t){n.init&&!n.initialized&&await n.init(t)}function wi(n){return Array.isArray(n)&&(n=new _i(n)),n instanceof ReadableStream&&(n={readable:n}),n}function I(n,t,e,i){return n.readUint8Array(t,e,i)}const rn="\0\u263A\u263B\u2665\u2666\u2663\u2660\u2022\u25D8\u25CB\u25D9\u2642\u2640\u266A\u266B\u263C\u25BA\u25C4\u2195\u203C\xB6\xA7\u25AC\u21A8\u2191\u2193\u2192\u2190\u221F\u2194\u25B2\u25BC !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\u2302\xC7\xFC\xE9\xE2\xE4\xE0\xE5\xE7\xEA\xEB\xE8\xEF\xEE\xEC\xC4\xC5\xC9\xE6\xC6\xF4\xF6\xF2\xFB\xF9\xFF\xD6\xDC\xA2\xA3\xA5\u20A7\u0192\xE1\xED\xF3\xFA\xF1\xD1\xAA\xBA\xBF\u2310\xAC\xBD\xBC\xA1\xAB\xBB\u2591\u2592\u2593\u2502\u2524\u2561\u2562\u2556\u2555\u2563\u2551\u2557\u255D\u255C\u255B\u2510\u2514\u2534\u252C\u251C\u2500\u253C\u255E\u255F\u255A\u2554\u2569\u2566\u2560\u2550\u256C\u2567\u2568\u2564\u2565\u2559\u2558\u2552\u2553\u256B\u256A\u2518\u250C\u2588\u2584\u258C\u2590\u2580\u03B1\xDF\u0393\u03C0\u03A3\u03C3\xB5\u03C4\u03A6\u0398\u03A9\u03B4\u221E\u03C6\u03B5\u2229\u2261\xB1\u2265\u2264\u2320\u2321\xF7\u2248\xB0\u2219\xB7\u221A\u207F\xB2\u25A0 ".split(""),hi=rn.length==256;function Ze(n,t){return t&&t.trim().toLowerCase()=="cp437"?function(e){if(hi){let i="";for(let r=0;r<e.length;r++)i+=rn[e[r]];return i}return new TextDecoder().decode(e)}(n):new TextDecoder(t).decode(n)}const an="filename",sn="rawFilename",on="comment",ln="rawComment",cn="uncompressedSize",dn="compressedSize",fn="offset",Ge="diskNumberStart",Je="lastModDate",Qe="rawLastModDate",un="lastAccessDate",bi="rawLastAccessDate",_n="creationDate",pi="rawCreationDate",gi=[an,sn,dn,cn,Je,Qe,on,ln,un,_n,fn,Ge,Ge,"internalFileAttribute","externalFileAttribute","msDosCompatible","zip64","directory","bitFlag","encrypted","signature","filenameUTF8","commentUTF8","compressionMethod","version","versionMadeBy","extraField","rawExtraField","extraFieldZip64","extraFieldUnicodePath","extraFieldUnicodeComment","extraFieldAES","extraFieldNTFS","extraFieldExtendedTimestamp"];class wn{constructor(t){gi.forEach(e=>this[e]=t[e])}}const Xe="File format is not recognized",yi="Zip64 extra field not found",hn="Compression method not supported",bn="Split zip file",pn="utf-8",gn="cp437",mi=[[cn,re],[dn,re],[fn,re],[Ge,ae]],xi={[ae]:{getValue:L,bytes:4},[re]:{getValue:Fe,bytes:8}};class ki{constructor(t,e={}){Object.assign(this,{reader:wi(t),options:e,config:ee})}async*getEntriesGenerator(t={}){const e=this;let{reader:i}=e;const{config:r}=e;if(await De(i),i.size!==J&&i.readUint8Array||(i=new en(await new Response(i.readable).blob()),await De(i)),i.size<22)throw new Error(Xe);i.chunkSize=function(U){return Math.max(U.chunkSize,64)}(r);const s=await async function(U,k,v,F,T){const j=new Uint8Array(4);(function(H,V,O){H.setUint32(V,O,!0)})(B(j),0,k);const E=F+T;return await W(F)||await W(Math.min(E,v));async function W(H){const V=v-H,O=await I(U,V,H);for(let R=O.length-F;R>=0;R--)if(O[R]==j[0]&&O[R+1]==j[1]&&O[R+2]==j[2]&&O[R+3]==j[3])return{offset:V+R,buffer:O.slice(R,R+F).buffer}}}(i,101010256,i.size,22,1048560);if(!s)throw L(B(await I(i,0,4)))==134695760?new Error(bn):new Error("End of central directory not found");const o=B(s);let u=L(o,12),f=L(o,16);const w=s.offset,h=P(o,20),p=w+22+h;let S=P(o,4);const z=i.lastDiskNumber||0;let c=P(o,6),b=P(o,8),a=0,l=0;if(f==re||u==re||b==ae||c==ae){const U=B(await I(i,s.offset-20,20));if(L(U,0)!=117853008)throw new Error("End of Zip64 central directory not found");f=Fe(U,8);let k=await I(i,f,56,-1),v=B(k);const F=s.offset-20-56;if(L(v,0)!=gt&&f!=F){const T=f;f=F,a=f-T,k=await I(i,f,56,-1),v=B(k)}if(L(v,0)!=gt)throw new Error("End of Zip64 central directory locator not found");S==ae&&(S=L(v,16)),c==ae&&(c=L(v,20)),b==ae&&(b=Fe(v,32)),u==re&&(u=Fe(v,40)),f-=u}if(z!=S)throw new Error(bn);if(f<0||f>=i.size)throw new Error(Xe);let d=0,m=await I(i,f,u,c),y=B(m);if(u){const U=s.offset-u;if(L(y,d)!=pt&&f!=U){const k=f;f=U,a=f-k,m=await I(i,f,u,c),y=B(m)}}const x=s.offset-f-(i.lastDiskOffset||0);if(u!=x&&x>=0&&(u=x,m=await I(i,f,u,c),y=B(m)),f<0||f>=i.size)throw new Error(Xe);const g=G(e,t,"filenameEncoding"),_=G(e,t,"commentEncoding");for(let U=0;U<b;U++){const k=new vi(i,r,e.options);if(L(y,d)!=pt)throw new Error("Central directory header not found");yn(k,y,d+6);const v=!!k.bitFlag.languageEncodingFlag,F=d+46,T=F+k.filenameLength,j=T+k.extraFieldLength,E=P(y,d+4),W=(0&E)==0,H=m.subarray(F,T),V=P(y,d+32),O=j+V,R=m.subarray(j,O),C=v,M=v,Oe=W&&(16&de(y,d+38))==16,We=L(y,d+42)+a;Object.assign(k,{versionMadeBy:E,msDosCompatible:W,compressedSize:0,uncompressedSize:0,commentLength:V,directory:Oe,offset:We,diskNumberStart:P(y,d+34),internalFileAttribute:P(y,d+36),externalFileAttribute:L(y,d+38),rawFilename:H,filenameUTF8:C,commentUTF8:M,rawExtraField:m.subarray(T,j)});const[Te,je]=await Promise.all([Ze(H,C?pn:g||gn),Ze(R,M?pn:_||gn)]);Object.assign(k,{rawComment:R,filename:Te,comment:je,directory:Oe||Te.endsWith("/")}),l=Math.max(We,l),await mn(k,k,y,d+6);const ge=new wn(k);ge.getData=($e,ue)=>k.getData($e,ge,ue),d=O;const{onprogress:fe}=t;if(fe)try{await fe(U+1,b,new wn(k))}catch{}yield ge}const A=G(e,t,"extractPrependedData"),D=G(e,t,"extractAppendedData");return A&&(e.prependedData=l>0?await I(i,0,l):new Uint8Array),e.comment=h?await I(i,w+22,h):new Uint8Array,D&&(e.appendedData=p<i.size?await I(i,p,i.size-p):new Uint8Array),!0}async getEntries(t={}){const e=[];for await(const i of this.getEntriesGenerator(t))e.push(i);return e}async close(){}}class vi{constructor(t,e,i){Object.assign(this,{reader:t,config:e,options:i})}async getData(t,e,i={}){const r=this,{reader:s,offset:o,diskNumberStart:u,extraFieldAES:f,compressionMethod:w,config:h,bitFlag:p,signature:S,rawLastModDate:z,uncompressedSize:c,compressedSize:b}=r,a=e.localDirectory={},l=B(await I(s,o,30,u));let d=G(r,i,"password");if(d=d&&d.length&&d,f&&f.originalCompressionMethod!=99)throw new Error(hn);if(w!=0&&w!=8)throw new Error(hn);if(L(l,0)!=67324752)throw new Error("Local file header not found");yn(a,l,4),a.rawExtraField=a.extraFieldLength?await I(s,o+30+a.filenameLength,a.extraFieldLength,u):new Uint8Array,await mn(r,a,l,4,!0),Object.assign(e,{lastAccessDate:a.lastAccessDate,creationDate:a.creationDate});const m=r.encrypted&&a.encrypted,y=m&&!f;if(m){if(!y&&f.strength===J)throw new Error("Encryption method not supported");if(!d)throw new Error("File contains encrypted entry")}const x=o+30+a.filenameLength+a.extraFieldLength,g=b,_=s.readable;Object.assign(_,{diskNumberStart:u,offset:x,size:g});const A=G(r,i,"signal"),D=G(r,i,"checkPasswordOnly");D&&(t=new WritableStream),t=function(E){E.writable===J&&typeof E.next==yt&&(E=new nn(E)),E instanceof WritableStream&&(E={writable:E});const{writable:W}=E;return W.size===J&&(W.size=0),E instanceof nn||Object.assign(E,{diskNumber:0,diskOffset:0,availableSize:1/0,maxSize:1/0}),E}(t),await De(t,c);const{writable:U}=t,{onstart:k,onprogress:v,onend:F}=i,T={options:{codecType:Zt,password:d,zipCrypto:y,encryptionStrength:f&&f.strength,signed:G(r,i,"checkSignature"),passwordVerification:y&&(p.dataDescriptor?z>>>8&255:S>>>24&255),signature:S,compressed:w!=0,encrypted:m,useWebWorkers:G(r,i,"useWebWorkers"),useCompressionStream:G(r,i,"useCompressionStream"),transferStreams:G(r,i,"transferStreams"),checkPasswordOnly:D},config:h,streamOptions:{signal:A,size:g,onstart:k,onprogress:v,onend:F}};let j=0;try{({outputSize:j}=await async function(E,W){const{options:H,config:V}=W,{transferStreams:O,useWebWorkers:R,useCompressionStream:C,codecType:M,compressed:Oe,signed:We,encrypted:Te}=H,{workerScripts:je,maxWorkers:ge,terminateWorkerTimeout:fe}=V;W.transferStreams=O||O===J;const $e=!(Oe||We||Te||W.transferStreams);let ue;W.useWebWorkers=!$e&&(R||R===J&&V.useWebWorkers),W.scripts=W.useWebWorkers&&je?je[M]:[],H.useCompressionStream=C||C===J&&V.useCompressionStream;const et=se.find(q=>!q.busy);if(et)Xt(et),ue=new Ne(et,E,W,tt);else if(se.length<ge){const q={indexWorker:Qt};Qt++,se.push(q),ue=new Ne(q,E,W,tt)}else ue=await new Promise(q=>Ke.push({resolve:q,stream:E,workerOptions:W}));return ue.run();function tt(q){if(Ke.length){const[{resolve:ye,stream:zi,workerOptions:Ai}]=Ke.splice(0,1);ye(new Ne(q,zi,Ai,tt))}else q.worker?(Xt(q),Number.isFinite(fe)&&fe>=0&&(q.terminateTimeout=setTimeout(()=>{se=se.filter(ye=>ye!=q),q.terminate()},fe))):se=se.filter(ye=>ye!=q)}}({readable:_,writable:U},T))}catch(E){if(!D||E.message!=Re)throw E}finally{const E=G(r,i,"preventClose");U.size+=j,E||U.locked||await U.getWriter().close()}return D?void 0:t.getData?t.getData():U}}function yn(n,t,e){const i=n.rawBitFlag=P(t,e+2),r=(1&i)==1,s=L(t,e+6);Object.assign(n,{encrypted:r,version:P(t,e),bitFlag:{level:(6&i)>>1,dataDescriptor:(8&i)==8,languageEncodingFlag:(2048&i)==2048},rawLastModDate:s,lastModDate:Si(s),filenameLength:P(t,e+22),extraFieldLength:P(t,e+24)})}async function mn(n,t,e,i,r){const{rawExtraField:s}=t,o=t.extraField=new Map,u=B(new Uint8Array(s));let f=0;try{for(;f<s.length;){const l=P(u,f),d=P(u,f+2);o.set(l,{type:l,data:s.slice(f+4,f+4+d)}),f+=4+d}}catch{}const w=P(e,i+4);Object.assign(t,{signature:L(e,i+10),uncompressedSize:L(e,i+18),compressedSize:L(e,i+14)});const h=o.get(1);h&&(function(l,d){d.zip64=!0;const m=B(l.data),y=mi.filter(([x,g])=>d[x]==g);for(let x=0,g=0;x<y.length;x++){const[_,A]=y[x];if(d[_]==A){const D=xi[A];d[_]=l[_]=D.getValue(m,g),g+=D.bytes}else if(l[_])throw new Error(yi)}}(h,t),t.extraFieldZip64=h);const p=o.get(28789);p&&(await xn(p,an,sn,t,n),t.extraFieldUnicodePath=p);const S=o.get(25461);S&&(await xn(S,on,ln,t,n),t.extraFieldUnicodeComment=S);const z=o.get(39169);z?(function(l,d,m){const y=B(l.data),x=de(y,4);Object.assign(l,{vendorVersion:de(y,0),vendorId:de(y,2),strength:x,originalCompressionMethod:m,compressionMethod:P(y,5)}),d.compressionMethod=l.compressionMethod}(z,t,w),t.extraFieldAES=z):t.compressionMethod=w;const c=o.get(10);c&&(function(l,d){const m=B(l.data);let y,x=4;try{for(;x<l.data.length&&!y;){const g=P(m,x),_=P(m,x+2);g==jn&&(y=l.data.slice(x+4,x+4+_)),x+=4+_}}catch{}try{if(y&&y.length==24){const g=B(y),_=g.getBigUint64(0,!0),A=g.getBigUint64(8,!0),D=g.getBigUint64(16,!0);Object.assign(l,{rawLastModDate:_,rawLastAccessDate:A,rawCreationDate:D});const U=Ye(_),k=Ye(A),v={lastModDate:U,lastAccessDate:k,creationDate:Ye(D)};Object.assign(l,v),Object.assign(d,v)}}catch{}}(c,t),t.extraFieldNTFS=c);const b=o.get(21589);b&&(function(l,d,m){const y=B(l.data),x=de(y,0),g=[],_=[];m?((1&x)==1&&(g.push(Je),_.push(Qe)),(2&x)==2&&(g.push(un),_.push(bi)),(4&x)==4&&(g.push(_n),_.push(pi))):l.data.length>=5&&(g.push(Je),_.push(Qe));let A=1;g.forEach((D,U)=>{if(l.data.length>=A+4){const k=L(y,A);d[D]=l[D]=new Date(1e3*k);const v=_[U];l[v]=k}A+=4})}(b,t,r),t.extraFieldExtendedTimestamp=b);const a=o.get(6534);a&&(t.extraFieldUSDZ=a)}async function xn(n,t,e,i,r){const s=B(n.data),o=new ze;o.append(r[e]);const u=B(new Uint8Array(4));u.setUint32(0,o.get(),!0);const f=L(s,1);Object.assign(n,{version:de(s,0),[t]:Ze(n.data.subarray(5)),valid:!r.bitFlag.languageEncodingFlag&&f==L(u,0)}),n.valid&&(i[t]=n[t],i[t+"UTF8"]=!0)}function G(n,t,e){return t[e]===J?n.options[e]:t[e]}function Si(n){const t=(4294901760&n)>>16,e=65535&n;try{return new Date(1980+((65024&t)>>9),((480&t)>>5)-1,31&t,(63488&e)>>11,(2016&e)>>5,2*(31&e),0)}catch{}}function Ye(n){return new Date(Number(n/BigInt(1e4)-BigInt(116444736e5)))}function de(n,t){return n.getUint8(t)}function P(n,t){return n.getUint16(t,!0)}function L(n,t){return n.getUint32(t,!0)}function Fe(n,t){return Number(n.getBigUint64(t,!0))}function B(n){return new DataView(n.buffer)}kt({Inflate:function(n){const t=new bt,e=n&&n.chunkSize?Math.floor(2*n.chunkSize):131072,i=new Uint8Array(e);let r=!1;t.inflateInit(),t.next_out=i,this.append=function(s,o){const u=[];let f,w,h=0,p=0,S=0;if(s.length!==0){t.next_in_index=0,t.next_in=s,t.avail_in=s.length;do{if(t.next_out_index=0,t.avail_out=e,t.avail_in!==0||r||(t.next_in_index=0,r=!0),f=t.inflate(0),r&&f===-5){if(t.avail_in!==0)throw new Error("inflating: bad input")}else if(f!==0&&f!==1)throw new Error("inflating: "+t.msg);if((r||f===1)&&t.avail_in===s.length)throw new Error("inflating: bad input");t.next_out_index&&(t.next_out_index===e?u.push(new Uint8Array(i)):u.push(i.subarray(0,t.next_out_index))),S+=t.next_out_index,o&&t.next_in_index>0&&t.next_in_index!=h&&(o(t.next_in_index),h=t.next_in_index)}while(t.avail_in>0||t.avail_out===0);return u.length>1?(w=new Uint8Array(S),u.forEach(function(z){w.set(z,p),p+=z.length})):w=u[0]?new Uint8Array(u[0]):new Uint8Array,w}},this.flush=function(){t.inflateEnd()}}})}}]);
